<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ „é¤Šç´ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | Nutrition Database</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.30.4/cytoscape.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Hiragino Kaku Gothic ProN','Noto Sans JP',sans-serif;background:#f8f9fa;color:#333;height:100vh;display:flex;flex-direction:column;overflow:hidden}
header{background:#fff;border-bottom:1px solid #e0e0e0;padding:8px 16px;display:flex;align-items:center;gap:12px;flex-shrink:0;z-index:10}
header h1{font-size:16px;font-weight:700;white-space:nowrap;color:#2c3e50}
header h1 span{color:#888;font-weight:400;font-size:12px;margin-left:4px}
.search-box{flex:1;max-width:360px;position:relative}
.search-box input{width:100%;padding:6px 12px 6px 32px;border:1px solid #ddd;border-radius:20px;font-size:13px;outline:none;transition:border-color .2s}
.search-box input:focus{border-color:#5b9bd5}
.search-box::before{content:'ğŸ”';position:absolute;left:10px;top:50%;transform:translateY(-50%);font-size:13px}
.header-controls{display:flex;gap:8px;align-items:center;margin-left:auto}
.header-controls select,.header-controls button{padding:5px 10px;border:1px solid #ddd;border-radius:6px;font-size:12px;background:#fff;cursor:pointer}
.header-controls button:hover{background:#f0f0f0}
.header-controls button.active{background:#5b9bd5;color:#fff;border-color:#5b9bd5}
.main{display:flex;flex:1;overflow:hidden}
.left-panel{width:200px;background:#fff;border-right:1px solid #e0e0e0;padding:12px;overflow-y:auto;flex-shrink:0}
.left-panel h3{font-size:12px;color:#888;text-transform:uppercase;letter-spacing:1px;margin:12px 0 6px;padding-bottom:4px;border-bottom:1px solid #eee}
.left-panel h3:first-child{margin-top:0}
.filter-group label{display:flex;align-items:center;gap:6px;padding:3px 0;font-size:13px;cursor:pointer}
.filter-group label:hover{color:#5b9bd5}
.filter-group input[type=checkbox]{accent-color:#5b9bd5}
.color-dot{width:10px;height:10px;border-radius:50%;display:inline-block;flex-shrink:0}
.reverse-section{margin-top:16px}
.reverse-btn{width:100%;padding:8px;margin:4px 0;border:1px solid #ddd;border-radius:6px;font-size:12px;background:#fff;cursor:pointer;text-align:left;transition:all .2s}
.reverse-btn:hover{background:#f0f7ff;border-color:#5b9bd5}
.reverse-btn.active{background:#5b9bd5;color:#fff;border-color:#5b9bd5}
.reverse-input{width:100%;padding:6px 8px;border:1px solid #ddd;border-radius:6px;font-size:12px;margin:4px 0;outline:none;display:none}
.reverse-input.show{display:block}
.tag-chips{display:none;flex-wrap:wrap;gap:3px;margin:4px 0;max-height:100px;overflow-y:auto}
.tag-chips.show{display:flex}
.tag-chip{font-size:10px;padding:2px 6px;border-radius:10px;background:#f5f5f5;color:#666;cursor:pointer;white-space:nowrap;border:1px solid #e0e0e0;transition:all .15s}
.tag-chip:hover{background:#e3f2fd;border-color:#90caf9;color:#1565c0}
.tag-chip.active{background:#5b9bd5;color:#fff;border-color:#5b9bd5}
.tag-group-label{font-size:9px;color:#aaa;padding:2px 4px;width:100%;flex-shrink:0}
.reverse-sort{display:none;align-items:center;gap:4px;margin:4px 0}
.reverse-sort.show{display:flex}
.reverse-sort select{font-size:10px;padding:2px 4px;border:1px solid #ddd;border-radius:4px;flex:1}
.reverse-sort label{font-size:10px;color:#999;white-space:nowrap}
.reverse-results{font-size:11px;color:#666;margin-top:4px;max-height:200px;overflow-y:auto}
.reverse-results .result-item{padding:4px 6px;border-radius:4px;cursor:pointer;margin:2px 0}
.reverse-results .result-item:hover{background:#f0f7ff}
.reverse-results .result-group{font-size:9px;color:#999;font-weight:600;margin:6px 0 2px;padding:2px 0;border-bottom:1px solid #eee}
.reverse-highlight-btn{font-size:10px;padding:2px 8px;border:1px solid #5b9bd5;border-radius:4px;background:#fff;color:#5b9bd5;cursor:pointer;margin:4px 0;width:100%;transition:all .15s}
.reverse-highlight-btn:hover{background:#5b9bd5;color:#fff}
.graph-container{flex:1;position:relative;background:#fafbfc}
#cy{width:100%;height:100%}
.legend{position:absolute;bottom:12px;left:12px;background:rgba(255,255,255,.92);border-radius:8px;padding:8px 12px;font-size:11px;box-shadow:0 1px 4px rgba(0,0,0,.1);display:flex;gap:12px;flex-wrap:wrap}
.legend-item{display:flex;align-items:center;gap:4px}
.legend-line{width:24px;height:2px;display:inline-block}
.right-panel{width:0;background:#fff;border-left:none;overflow:hidden;flex-shrink:0;transition:width .25s ease,border .25s ease,padding .25s ease}
.right-panel.open{width:300px;border-left:1px solid #e0e0e0;overflow-y:auto}
.detail-header{padding:16px;border-bottom:1px solid #eee}
.detail-header .cat-badge{display:inline-block;font-size:10px;padding:2px 8px;border-radius:10px;color:#fff;margin-bottom:6px}
.detail-header h2{font-size:18px;margin-bottom:2px}
.detail-header .name-en{font-size:12px;color:#999}
.detail-header .desc{font-size:12px;color:#666;margin-top:8px;line-height:1.5}
.detail-section{padding:12px 16px;border-bottom:1px solid #f0f0f0}
.detail-section h4{font-size:11px;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.detail-section .info-row{font-size:12px;color:#555;margin:4px 0;line-height:1.5}
.detail-section .tag{display:inline-block;background:#f5f5f5;padding:2px 6px;border-radius:4px;font-size:11px;margin:2px;color:#555}
.detail-section .tag.deficiency{background:#fff3e0;color:#e65100}
.detail-section .tag.excess{background:#fce4ec;color:#c62828}
.food-item{display:flex;justify-content:space-between;padding:4px 0;font-size:12px;border-bottom:1px solid #f8f8f8}
.food-item:last-child{border-bottom:none}
.food-name{color:#333}
.food-amount{color:#999;font-size:11px}
.relation-item{display:flex;align-items:center;gap:6px;padding:4px 0;font-size:12px;cursor:pointer;border-radius:4px;padding:4px 6px}
.relation-item:hover{background:#f0f7ff}
.relation-type{font-size:10px;padding:1px 6px;border-radius:8px;color:#fff;flex-shrink:0}
.relation-type.synergy{background:#4caf50}
.relation-type.absorption{background:#2196f3}
.relation-type.antagonist{background:#f44336}
.stat-bar{height:4px;background:#eee;border-radius:2px;margin-top:4px;overflow:hidden}
.stat-fill{height:100%;border-radius:2px;transition:width .3s}
.tooltip{position:absolute;background:rgba(44,62,80,.9);color:#fff;padding:6px 10px;border-radius:6px;font-size:12px;pointer-events:none;z-index:100;white-space:nowrap;display:none}
@media(max-width:900px){.left-panel{width:160px}.right-panel.open{width:260px}}
.evidence-badge{display:inline-block;font-size:9px;padding:1px 6px;border-radius:8px;margin-left:4px;font-weight:600}
.evidence-badge.established{background:#e8f5e9;color:#2e7d32}
.evidence-badge.probable{background:#fff8e1;color:#f57f17}
.evidence-badge.limited{background:#fce4ec;color:#c62828;border:1px dashed #e57373}
.evidence-note{font-size:10px;color:#999;line-height:1.4;margin-top:6px;padding-top:6px;border-top:1px solid #eee}
.disclaimer{position:absolute;bottom:12px;right:12px;background:rgba(255,255,255,.92);border-radius:8px;padding:6px 10px;font-size:10px;color:#999;box-shadow:0 1px 4px rgba(0,0,0,.1);max-width:280px;line-height:1.4}
.legend-evidence{display:flex;gap:8px;margin-left:12px;padding-left:12px;border-left:1px solid #ddd}
@media(max-width:640px){.left-panel{display:none}.right-panel{position:absolute;right:0;top:0;bottom:0;z-index:20;width:0}.right-panel.open{width:280px}}
</style>
</head>
<body>
<header>
  <h1>æ „é¤Šç´ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹<span>46 Essential Nutrients</span></h1>
  <div class="search-box"><input type="text" id="searchInput" placeholder="æ „é¤Šç´ ã‚’æ¤œç´¢ï¼ˆæ—¥æœ¬èª / Englishï¼‰..."></div>
  <div class="header-controls">
    <select id="layoutSelect">
      <option value="cluster">ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼</option>
      <option value="concentric">åŒå¿ƒå††</option>
      <option value="subcategory" selected>ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª</option>
      <option value="force">ãƒ•ã‚©ãƒ¼ã‚¹</option>
    </select>
    <button id="fitBtn" title="å…¨ä½“è¡¨ç¤º">å…¨ä½“è¡¨ç¤º</button>
  </div>
</header>
<div class="main">
  <div class="left-panel">
    <h3>ã‚«ãƒ†ã‚´ãƒª</h3>
    <div class="filter-group" id="catFilters">
      <label><input type="checkbox" checked data-cat="vitamin"><span class="color-dot" style="background:#e67e22"></span>ãƒ“ã‚¿ãƒŸãƒ³ (18)</label>
      <label><input type="checkbox" checked data-cat="mineral"><span class="color-dot" style="background:#27ae60"></span>ãƒŸãƒãƒ©ãƒ« (20)</label>
      <label><input type="checkbox" checked data-cat="aminoAcid"><span class="color-dot" style="background:#8e44ad"></span>ã‚¢ãƒŸãƒé…¸ (8)</label>
    </div>
    <h3>ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒª</h3>
    <div class="filter-group" id="subFilters">
      <label><input type="checkbox" checked data-sub="è„‚æº¶æ€§"><span class="color-dot" style="background:#e67e22"></span>è„‚æº¶æ€§ãƒ“ã‚¿ãƒŸãƒ³</label>
      <label><input type="checkbox" checked data-sub="æ°´æº¶æ€§"><span class="color-dot" style="background:#3498db"></span>æ°´æº¶æ€§ãƒ“ã‚¿ãƒŸãƒ³</label>
      <label><input type="checkbox" checked data-sub="ä¸»è¦ãƒŸãƒãƒ©ãƒ«"><span class="color-dot" style="background:#27ae60"></span>ä¸»è¦ãƒŸãƒãƒ©ãƒ«</label>
      <label><input type="checkbox" checked data-sub="å¾®é‡ãƒŸãƒãƒ©ãƒ«"><span class="color-dot" style="background:#16a085"></span>å¾®é‡ãƒŸãƒãƒ©ãƒ«</label>
      <label><input type="checkbox" checked data-sub="å¿…é ˆã‚¢ãƒŸãƒé…¸"><span class="color-dot" style="background:#8e44ad"></span>å¿…é ˆã‚¢ãƒŸãƒé…¸</label>
    </div>
    <h3>ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹</h3>
    <div class="filter-group" id="evidenceFilters">
      <label><input type="checkbox" checked data-ev="established"><span class="color-dot" style="background:#2e7d32"></span>ç¢ºç«‹ (36)</label>
      <label><input type="checkbox" checked data-ev="probable"><span class="color-dot" style="background:#f57f17;border:1px dashed #f57f17"></span>æœ‰åŠ› (2)</label>
      <label><input type="checkbox" checked data-ev="limited"><span class="color-dot" style="background:#fff;border:1px dashed #c62828"></span>é™å®šçš„ (8)</label>
    </div>
    <h3>ã‚¨ãƒƒã‚¸è¡¨ç¤º</h3>
    <div class="filter-group" id="edgeFilters">
      <label><input type="checkbox" checked data-edge="synergy"><span class="legend-line" style="background:#4caf50"></span>ç›¸ä¹—</label>
      <label><input type="checkbox" checked data-edge="absorption"><span class="legend-line" style="background:#2196f3;border-top:2px dashed #2196f3;height:0"></span>å¸åä¿ƒé€²</label>
      <label><input type="checkbox" checked data-edge="antagonist"><span class="legend-line" style="background:#f44336;border-top:2px dotted #f44336;height:0"></span>æ‹®æŠ—</label>
    </div>
    <div class="reverse-section">
      <h3>é€†å¼•ãæ¤œç´¢</h3>
      <button class="reverse-btn" id="foodSearchBtn">é£Ÿæ â†’ æ „é¤Šç´ </button>
      <input type="text" class="reverse-input" id="foodSearchInput" placeholder="é£Ÿæåã‚’å…¥åŠ› or ä¸‹ã‹ã‚‰é¸æŠ...">
      <div class="tag-chips" id="foodTags"></div>
      <div class="reverse-sort" id="foodSort"><label>ä¸¦ã³:</label><select id="foodSortSelect"><option value="default">æ¤œç´¢é †</option><option value="category">ã‚«ãƒ†ã‚´ãƒªåˆ¥</option><option value="subcategory">ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªåˆ¥</option><option value="name">äº”åéŸ³é †</option></select></div>
      <button class="reverse-highlight-btn" id="foodHighlightBtn" style="display:none">ã‚°ãƒ©ãƒ•ä¸Šã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ</button>
      <div class="reverse-results" id="foodResults"></div>
      <button class="reverse-btn" id="symptomSearchBtn">ç—‡çŠ¶ â†’ æ „é¤Šç´ </button>
      <input type="text" class="reverse-input" id="symptomSearchInput" placeholder="ç—‡çŠ¶ã‚’å…¥åŠ› or ä¸‹ã‹ã‚‰é¸æŠ...">
      <div class="tag-chips" id="symptomTags"></div>
      <div class="reverse-sort" id="symptomSort"><label>ä¸¦ã³:</label><select id="symptomSortSelect"><option value="default">æ¤œç´¢é †</option><option value="category">ã‚«ãƒ†ã‚´ãƒªåˆ¥</option><option value="subcategory">ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªåˆ¥</option><option value="name">äº”åéŸ³é †</option></select></div>
      <button class="reverse-highlight-btn" id="symptomHighlightBtn" style="display:none">ã‚°ãƒ©ãƒ•ä¸Šã§ãƒã‚¤ãƒ©ã‚¤ãƒˆ</button>
      <div class="reverse-results" id="symptomResults"></div>
    </div>
  </div>
  <div class="graph-container">
    <div id="cy"></div>
    <div class="legend">
      <div class="legend-item"><span class="legend-line" style="background:#4caf50"></span>ç›¸ä¹—</div>
      <div class="legend-item"><span class="legend-line" style="background:#2196f3;border-top:2px dashed #2196f3;height:0"></span>å¸åä¿ƒé€²</div>
      <div class="legend-item"><span class="legend-line" style="background:#f44336;border-top:2px dotted #f44336;height:0"></span>æ‹®æŠ—</div>
      <div class="legend-evidence">
        <div class="legend-item"><span class="color-dot" style="background:#2e7d32;border:2px solid #2e7d32"></span>ç¢ºç«‹</div>
        <div class="legend-item"><span class="color-dot" style="background:#fff;border:2px solid #f57f17"></span>æœ‰åŠ›</div>
        <div class="legend-item"><span class="color-dot" style="background:#fff;border:2px dashed #c62828"></span>é™å®šçš„</div>
      </div>
    </div>
    <div class="disclaimer">â€» é£Ÿå“æˆåˆ†å€¤ã¯æ—¥æœ¬é£Ÿå“æ¨™æº–æˆåˆ†è¡¨ç­‰ã‚’å‚è€ƒã«ã—ãŸæ¦‚ç®—å€¤ã§ã™ã€‚ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãƒ¬ãƒ™ãƒ«ã¯ä¸»è¦ãªå­¦è¡“æ©Ÿé–¢ã®è©•ä¾¡ã«åŸºã¥ãã¾ã™ã€‚</div>
  </div>
  <div class="right-panel" id="detailPanel">
    <div class="detail-content"></div>
  </div>
</div>
<div class="tooltip" id="tooltip"></div>

<script>
// ============================================================
// DATA: 46 Essential Nutrients
// ============================================================
const nutrients = [
  // === VITAMINS: Fat-soluble (è„‚æº¶æ€§) ===
  {id:"vitA",name:"ãƒ“ã‚¿ãƒŸãƒ³A",nameEn:"Vitamin A",category:"vitamin",subCategory:"è„‚æº¶æ€§",unit:"Î¼gRAE",rda:"650ã€œ900",deficiency:"å¤œç›²ç—‡ã€è§’è†œä¹¾ç‡¥ç—‡ã€çš®è†šä¹¾ç‡¥ã€å…ç–«åŠ›ä½ä¸‹ã€æˆé•·éšœå®³",excess:"é ­ç—›ã€åãæ°—ã€è‚éšœå®³ã€éª¨ç²—é¬†ç—‡ãƒªã‚¹ã‚¯ã€å‚¬å¥‡å½¢æ€§",foods:[{name:"é¶ãƒ¬ãƒãƒ¼",amount:"14,000Î¼g/100g"},{name:"ã†ãªãè’²ç„¼",amount:"1,500Î¼g/100g"},{name:"ã«ã‚“ã˜ã‚“",amount:"720Î¼g/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"350Î¼g/100g"},{name:"ã‹ã¼ã¡ã‚ƒ",amount:"330Î¼g/100g"}],description:"è¦–è¦šãƒ»çš®è†šãƒ»ç²˜è†œã®å¥åº·ç¶­æŒã«å¿…é ˆã€‚Î²-ã‚«ãƒ­ãƒ†ãƒ³ã‹ã‚‰ä½“å†…å¤‰æ›ã•ã‚Œã‚‹ã€‚æŠ—é…¸åŒ–ä½œç”¨ã€å…ç–«æ©Ÿèƒ½ã®ç¶­æŒã«é‡è¦ã€‚"},
  {id:"vitD",name:"ãƒ“ã‚¿ãƒŸãƒ³D",nameEn:"Vitamin D",category:"vitamin",subCategory:"è„‚æº¶æ€§",unit:"Î¼g",rda:"8.5",deficiency:"ãã‚‹ç—…ï¼ˆå°å…ï¼‰ã€éª¨è»ŸåŒ–ç—‡ã€éª¨ç²—é¬†ç—‡ã€å…ç–«åŠ›ä½ä¸‹",excess:"é«˜ã‚«ãƒ«ã‚·ã‚¦ãƒ è¡€ç—‡ã€è…éšœå®³ã€é£Ÿæ¬²ä¸æŒ¯ã€å˜”å",foods:[{name:"ã—ã‚‰ã™å¹²ã—",amount:"61Î¼g/100g"},{name:"ç´…é®­",amount:"33Î¼g/100g"},{name:"ã•ã‚“ã¾",amount:"16Î¼g/100g"},{name:"å¹²ã—æ¤èŒ¸",amount:"17Î¼g/100g"},{name:"åµé»„",amount:"5.9Î¼g/100g"}],description:"ã‚«ãƒ«ã‚·ã‚¦ãƒ ãƒ»ãƒªãƒ³ã®å¸åã‚’ä¿ƒé€²ã—éª¨ã®å¥åº·ã‚’ç¶­æŒã€‚æ—¥å…‰æµ´ã§çš®è†šã‹ã‚‰åˆæˆã•ã‚Œã‚‹ã€‚å…ç–«èª¿ç¯€ä½œç”¨ã‚‚æ³¨ç›®ã•ã‚Œã¦ã„ã‚‹ã€‚"},
  {id:"vitE",name:"ãƒ“ã‚¿ãƒŸãƒ³E",nameEn:"Vitamin E",category:"vitamin",subCategory:"è„‚æº¶æ€§",unit:"mg",rda:"5.0ã€œ7.0",deficiency:"æº¶è¡€æ€§è²§è¡€ã€ç¥çµŒéšœå®³ã€ç­‹åŠ›ä½ä¸‹ã€ä¸å¦Š",excess:"å‡ºè¡€å‚¾å‘ï¼ˆç¨€ï¼‰ã€ç­‹åŠ›ä½ä¸‹",foods:[{name:"ã‚¢ãƒ¼ãƒ¢ãƒ³ãƒ‰",amount:"31mg/100g"},{name:"ã²ã¾ã‚ã‚Šæ²¹",amount:"39mg/100g"},{name:"ã‹ã¼ã¡ã‚ƒ",amount:"5.1mg/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"2.1mg/100g"},{name:"ã‚¢ãƒœã‚«ãƒ‰",amount:"3.3mg/100g"}],description:"å¼·åŠ›ãªæŠ—é…¸åŒ–ä½œç”¨ã§ç´°èƒè†œã‚’é…¸åŒ–ã‚¹ãƒˆãƒ¬ã‚¹ã‹ã‚‰ä¿è­·ã€‚è¡€è¡Œä¿ƒé€²ã€è€åŒ–é˜²æ­¢ã€‚ãƒ“ã‚¿ãƒŸãƒ³Cã«ã‚ˆã‚Šå†ç”Ÿã•ã‚Œã‚‹ã€‚"},
  {id:"vitK",name:"ãƒ“ã‚¿ãƒŸãƒ³K",nameEn:"Vitamin K",category:"vitamin",subCategory:"è„‚æº¶æ€§",unit:"Î¼g",rda:"150",deficiency:"å‡ºè¡€å‚¾å‘ã€éª¨ç²—é¬†ç—‡ã€æ–°ç”Ÿå…å‡ºè¡€ç—‡",excess:"å ±å‘Šã¯ã»ã¨ã‚“ã©ãªã„",foods:[{name:"ç´è±†",amount:"600Î¼g/100g"},{name:"ãƒ¢ãƒ­ãƒ˜ã‚¤ãƒ¤",amount:"640Î¼g/100g"},{name:"å°æ¾èœ",amount:"210Î¼g/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"270Î¼g/100g"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"160Î¼g/100g"}],description:"è¡€æ¶²å‡å›ºã«å¿…é ˆã®å› å­ã€‚éª¨ã¸ã®ã‚«ãƒ«ã‚·ã‚¦ãƒ å®šç€ã‚’ä¿ƒé€²ã™ã‚‹ã‚ªã‚¹ãƒ†ã‚ªã‚«ãƒ«ã‚·ãƒ³ã®æ´»æ€§åŒ–ã«ã‚‚é–¢ä¸ã€‚è…¸å†…ç´°èŒã§ã‚‚ç”£ç”Ÿã•ã‚Œã‚‹ã€‚"},

  // === VITAMINS: Water-soluble (æ°´æº¶æ€§) ===
  {id:"vitB1",name:"ãƒ“ã‚¿ãƒŸãƒ³B1",nameEn:"Vitamin B1 (Thiamine)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"1.1ã€œ1.4",deficiency:"è„šæ°—ã€ã‚¦ã‚§ãƒ«ãƒ‹ãƒƒã‚±è„³ç—‡ã€å€¦æ€ æ„Ÿã€é£Ÿæ¬²ä¸æŒ¯ã€ç¥çµŒéšœå®³",excess:"éå‰°ç—‡ã®å ±å‘Šã¯ç¨€",foods:[{name:"è±šãƒ’ãƒ¬è‚‰",amount:"1.32mg/100g"},{name:"ã†ãªãè’²ç„¼",amount:"0.75mg/100g"},{name:"ç„ç±³",amount:"0.41mg/100g"},{name:"å¤§è±†",amount:"0.83mg/100g"},{name:"è½èŠ±ç”Ÿ",amount:"0.85mg/100g"}],description:"ç³–è³ªä»£è¬ã«ä¸å¯æ¬ ãªè£œé…µç´ ã€‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ç”£ç”Ÿã€ç¥çµŒæ©Ÿèƒ½ã®ç¶­æŒã«é‡è¦ã€‚ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«å¤šé£²ã§æ¶ˆè€—ãŒå¢—åŠ ã€‚"},
  {id:"vitB2",name:"ãƒ“ã‚¿ãƒŸãƒ³B2",nameEn:"Vitamin B2 (Riboflavin)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"1.2ã€œ1.6",deficiency:"å£è§’ç‚ã€å£å†…ç‚ã€èˆŒç‚ã€çš®è†šç‚ã€æˆé•·éšœå®³",excess:"éå‰°ç—‡ã®å ±å‘Šã¯ç¨€ï¼ˆå°¿ãŒé»„è‰²ããªã‚‹ï¼‰",foods:[{name:"è±šãƒ¬ãƒãƒ¼",amount:"3.60mg/100g"},{name:"ã†ãªãè’²ç„¼",amount:"0.74mg/100g"},{name:"ç´è±†",amount:"0.56mg/100g"},{name:"ç‰›ä¹³",amount:"0.15mg/100g"},{name:"åµ",amount:"0.43mg/100g"}],description:"è„‚è³ªãƒ»ã‚¿ãƒ³ãƒ‘ã‚¯è³ªãƒ»ç³–è³ªã®ä»£è¬ã«é–¢ä¸ã™ã‚‹è£œé…µç´ ã€‚çš®è†šãƒ»ç²˜è†œã®å¥åº·ç¶­æŒã€‚ã€Œç™ºè‚²ã®ãƒ“ã‚¿ãƒŸãƒ³ã€ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ã€‚"},
  {id:"vitB3",name:"ãƒŠã‚¤ã‚¢ã‚·ãƒ³",nameEn:"Niacin (Vitamin B3)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mgNE",rda:"11ã€œ15",deficiency:"ãƒšãƒ©ã‚°ãƒ©ï¼ˆçš®è†šç‚ãƒ»ä¸‹ç—¢ãƒ»èªçŸ¥ç—‡ã®3Dç—‡çŠ¶ï¼‰ã€å£å†…ç‚",excess:"çš®è†šç´…æ½®ï¼ˆãƒ•ãƒ©ãƒƒã‚·ãƒ³ã‚°ï¼‰ã€è‚éšœå®³",foods:[{name:"ãŸã‚‰ã“",amount:"49mg/100g"},{name:"é¶ã‚€ã­è‚‰",amount:"12mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"14mg/100g"},{name:"è½èŠ±ç”Ÿ",amount:"17mg/100g"},{name:"ã‚¨ãƒªãƒ³ã‚®",amount:"6.1mg/100g"}],description:"ã‚¨ãƒãƒ«ã‚®ãƒ¼ä»£è¬ã«é–¢ã‚ã‚‹è£œé…µç´ NAD/NADPã®æ§‹æˆæˆåˆ†ã€‚ãƒˆãƒªãƒ—ãƒˆãƒ•ã‚¡ãƒ³ã‹ã‚‰ä½“å†…åˆæˆã‚‚å¯èƒ½ã€‚500ä»¥ä¸Šã®é…µç´ åå¿œã«é–¢ä¸ã€‚"},
  {id:"vitB5",name:"ãƒ‘ãƒ³ãƒˆãƒ†ãƒ³é…¸",nameEn:"Pantothenic Acid (Vitamin B5)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"5ã€œ6",deficiency:"ç–²åŠ´æ„Ÿã€æ‰‹è¶³ã®ã—ã³ã‚Œã€é ­ç—›ã€ä¸çœ ï¼ˆæ¬ ä¹ã¯ç¨€ï¼‰",excess:"ä¸‹ç—¢ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"é¶ãƒ¬ãƒãƒ¼",amount:"10.1mg/100g"},{name:"ç´è±†",amount:"3.6mg/100g"},{name:"åµé»„",amount:"4.3mg/100g"},{name:"ã‚¢ãƒœã‚«ãƒ‰",amount:"1.6mg/100g"},{name:"å¹²ã—æ¤èŒ¸",amount:"7.9mg/100g"}],description:"è£œé…µç´ Aã®æ§‹æˆæˆåˆ†ã¨ã—ã¦è„‚è‚ªé…¸ä»£è¬ãƒ»ã‚¨ãƒãƒ«ã‚®ãƒ¼ç”£ç”Ÿã«å¿…é ˆã€‚å‰¯è…çš®è³ªãƒ›ãƒ«ãƒ¢ãƒ³ã®åˆæˆã«ã‚‚é–¢ä¸ã€‚åºƒãé£Ÿå“ã«å«ã¾ã‚Œã‚‹ã€‚"},
  {id:"vitB6",name:"ãƒ“ã‚¿ãƒŸãƒ³B6",nameEn:"Vitamin B6 (Pyridoxine)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"1.1ã€œ1.4",deficiency:"çš®è†šç‚ã€è²§è¡€ã€å…ç–«åŠ›ä½ä¸‹ã€ç¥çµŒéšœå®³ã€å£è§’ç‚",excess:"æœ«æ¢¢ç¥çµŒéšœå®³ï¼ˆå¤§é‡é•·æœŸæ‘‚å–æ™‚ï¼‰",foods:[{name:"ã«ã‚“ã«ã",amount:"1.53mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"0.85mg/100g"},{name:"é¶ã•ã•ã¿",amount:"0.66mg/100g"},{name:"ãƒãƒŠãƒŠ",amount:"0.38mg/100g"},{name:"ã•ã‚“ã¾",amount:"0.54mg/100g"}],description:"ã‚¢ãƒŸãƒé…¸ä»£è¬ã®è£œé…µç´ ã¨ã—ã¦100ä»¥ä¸Šã®é…µç´ åå¿œã«é–¢ä¸ã€‚ç¥çµŒä¼é”ç‰©è³ªã®åˆæˆã€ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³åˆæˆã«ã‚‚é‡è¦ã€‚"},
  {id:"vitB7",name:"ãƒ“ã‚ªãƒãƒ³",nameEn:"Biotin (Vitamin B7)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"Î¼g",rda:"50",deficiency:"è„±æ¯›ã€çš®è†šç‚ã€çµè†œç‚ã€ç­‹è‚‰ç—›ã€ã†ã¤ç—‡çŠ¶",excess:"éå‰°ç—‡ã®å ±å‘Šãªã—",foods:[{name:"é¶ãƒ¬ãƒãƒ¼",amount:"232Î¼g/100g"},{name:"è½èŠ±ç”Ÿ",amount:"92Î¼g/100g"},{name:"åµé»„",amount:"65Î¼g/100g"},{name:"å¤§è±†",amount:"28Î¼g/100g"},{name:"ç‰ã­ã",amount:"16Î¼g/100g"}],description:"ç³–æ–°ç”Ÿãƒ»è„‚è‚ªé…¸åˆæˆãƒ»ã‚¢ãƒŸãƒé…¸ä»£è¬ã«é–¢ä¸ã™ã‚‹ã‚«ãƒ«ãƒœã‚­ã‚·ãƒ©ãƒ¼ã‚¼ã®è£œé…µç´ ã€‚çš®è†šãƒ»æ¯›é«ªã®å¥åº·ç¶­æŒã€‚è…¸å†…ç´°èŒã§ã‚‚åˆæˆã€‚"},
  {id:"vitB9",name:"è‘‰é…¸",nameEn:"Folic Acid (Vitamin B9)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"Î¼g",rda:"240ï¼ˆå¦Šå©¦480ï¼‰",deficiency:"å·¨èµ¤èŠ½çƒæ€§è²§è¡€ã€èƒå…ç¥çµŒç®¡é–‰é–éšœå®³ã€å‹•è„ˆç¡¬åŒ–ãƒªã‚¹ã‚¯ä¸Šæ˜‡",excess:"ãƒ“ã‚¿ãƒŸãƒ³B12æ¬ ä¹ã®éš è”½ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"é¶ãƒ¬ãƒãƒ¼",amount:"1,300Î¼g/100g"},{name:"æè±†",amount:"260Î¼g/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"210Î¼g/100g"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"210Î¼g/100g"},{name:"ã„ã¡ã”",amount:"90Î¼g/100g"}],description:"DNAåˆæˆãƒ»ç´°èƒåˆ†è£‚ã«ä¸å¯æ¬ ã€‚å¦Šå¨ åˆæœŸã®æ‘‚å–ãŒç‰¹ã«é‡è¦ã€‚ãƒ“ã‚¿ãƒŸãƒ³B12ã¨å”åƒã—ã¦èµ¤è¡€çƒã‚’å½¢æˆã€‚"},
  {id:"vitB12",name:"ãƒ“ã‚¿ãƒŸãƒ³B12",nameEn:"Vitamin B12 (Cobalamin)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"Î¼g",rda:"2.4",deficiency:"æ‚ªæ€§è²§è¡€ã€æœ«æ¢¢ç¥çµŒéšœå®³ã€èªçŸ¥æ©Ÿèƒ½ä½ä¸‹ã€èˆŒç‚",excess:"éå‰°ç—‡ã®å ±å‘Šã¯ç¨€",foods:[{name:"ã—ã˜ã¿",amount:"62Î¼g/100g"},{name:"ç‰›ãƒ¬ãƒãƒ¼",amount:"53Î¼g/100g"},{name:"ã‚ã•ã‚Š",amount:"52Î¼g/100g"},{name:"ã•ã‚“ã¾",amount:"16Î¼g/100g"},{name:"æµ·è‹”",amount:"58Î¼g/100g"}],description:"èµ¤è¡€çƒå½¢æˆãƒ»ç¥çµŒæ©Ÿèƒ½ç¶­æŒã«å¿…é ˆã€‚ã‚³ãƒãƒ«ãƒˆã‚’å«ã‚€å”¯ä¸€ã®ãƒ“ã‚¿ãƒŸãƒ³ã€‚å‹•ç‰©æ€§é£Ÿå“ã«ã®ã¿å«ã¾ã‚Œã€èœé£Ÿä¸»ç¾©è€…ã¯æ¬ ä¹ãƒªã‚¹ã‚¯ã‚ã‚Šã€‚"},
  {id:"vitC",name:"ãƒ“ã‚¿ãƒŸãƒ³C",nameEn:"Vitamin C (Ascorbic Acid)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"100",deficiency:"å£Šè¡€ç—…ã€æ­¯è‚‰å‡ºè¡€ã€å€¦æ€ æ„Ÿã€å…ç–«åŠ›ä½ä¸‹ã€å‚·ã®æ²»ã‚ŠãŒé…ã„",excess:"ä¸‹ç—¢ã€è…¹ç—›ã€å°¿è·¯çµçŸ³ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"èµ¤ãƒ”ãƒ¼ãƒãƒ³",amount:"170mg/100g"},{name:"ã‚­ã‚¦ã‚¤",amount:"140mg/100g"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"140mg/100g"},{name:"ã„ã¡ã”",amount:"62mg/100g"},{name:"ãƒ¬ãƒ¢ãƒ³",amount:"100mg/100g"}],description:"å¼·åŠ›ãªæŠ—é…¸åŒ–ä½œç”¨ã€‚ã‚³ãƒ©ãƒ¼ã‚²ãƒ³åˆæˆã«å¿…é ˆã€‚éãƒ˜ãƒ é‰„ã®å¸åä¿ƒé€²ã€å…ç–«æ©Ÿèƒ½ã®å¼·åŒ–ã€ãƒ“ã‚¿ãƒŸãƒ³Eã®å†ç”Ÿã«ã‚‚é–¢ä¸ã€‚"},
  {id:"choline",name:"ã‚³ãƒªãƒ³",nameEn:"Choline",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"400ã€œ550",deficiency:"è„‚è‚ªè‚ã€ç­‹éšœå®³ã€è¨˜æ†¶åŠ›ä½ä¸‹",excess:"ä½è¡€åœ§ã€ç™ºæ±—ã€é­šè‡­æ§˜ä½“è‡­",foods:[{name:"åµé»„",amount:"680mg/100g"},{name:"ç‰›ãƒ¬ãƒãƒ¼",amount:"420mg/100g"},{name:"å¤§è±†",amount:"120mg/100g"},{name:"é¶ã‚€ã­è‚‰",amount:"78mg/100g"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"40mg/100g"}],description:"ç¥çµŒä¼é”ç‰©è³ªã‚¢ã‚»ãƒãƒ«ã‚³ãƒªãƒ³ã®å‰é§†ä½“ã€‚ç´°èƒè†œã®æ§‹æˆæˆåˆ†ãƒ¬ã‚·ãƒãƒ³ã®ææ–™ã€‚è‚è‡“ã®è„‚è‚ªä»£è¬ã‚’è£œåŠ©ã€‚"},
  {id:"inositol",name:"ã‚¤ãƒã‚·ãƒˆãƒ¼ãƒ«",nameEn:"Inositol",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"è„‚è‚ªè‚ã€å‹•è„ˆç¡¬åŒ–ï¼ˆå‹•ç‰©å®Ÿé¨“ãƒ™ãƒ¼ã‚¹ã€ãƒ’ãƒˆã§ã®æ¬ ä¹å ±å‘Šã¯ç¨€ï¼‰",excess:"èƒƒè…¸éšœå®³ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"ã‚ªãƒ¬ãƒ³ã‚¸",amount:"210mg/100g"},{name:"ã‚°ãƒ¬ãƒ¼ãƒ—ãƒ•ãƒ«ãƒ¼ãƒ„",amount:"199mg/100g"},{name:"ã™ã„ã‹",amount:"46mg/100g"},{name:"æ¡ƒ",amount:"21mg/100g"},{name:"ãƒ¡ãƒ­ãƒ³",amount:"25mg/100g"}],description:"ãƒ“ã‚¿ãƒŸãƒ³æ§˜ç‰©è³ªã€‚ç´°èƒè†œãƒªãƒ³è„‚è³ªã®æ§‹æˆæˆåˆ†ã§ã€ä½“å†…ã§ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ã‹ã‚‰åˆæˆå¯èƒ½ãªãŸã‚å¿…é ˆæ „é¤Šç´ ã«ã¯åˆ†é¡ã•ã‚Œãªã„ã€‚è„‚è³ªä»£è¬ã¸ã®é–¢ä¸ãŒç ”ç©¶ã•ã‚Œã¦ã„ã‚‹ã€‚"},
  {id:"rutin",name:"ãƒ«ãƒãƒ³",nameEn:"Rutin (Vitamin P)",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"æ¯›ç´°è¡€ç®¡ã®è„†å¼±åŒ–ï¼ˆå‹•ç‰©å®Ÿé¨“ãƒ™ãƒ¼ã‚¹ï¼‰",excess:"å ±å‘Šã¯ã»ã¨ã‚“ã©ãªã„",foods:[{name:"ãã°",amount:"15mg/100g"},{name:"æŸ‘æ©˜é¡ã®çš®",amount:"é«˜å«æœ‰"},{name:"ã‚¢ã‚¹ãƒ‘ãƒ©ã‚¬ã‚¹",amount:"å«æœ‰"},{name:"ã„ã¡ã˜ã",amount:"å«æœ‰"},{name:"ãƒˆãƒãƒˆ",amount:"å«æœ‰"}],description:"ãƒ“ã‚¿ãƒŸãƒ³æ§˜ç‰©è³ªï¼ˆãƒ•ãƒ©ãƒœãƒã‚¤ãƒ‰ï¼‰ã€‚ã‹ã¤ã¦ã€Œãƒ“ã‚¿ãƒŸãƒ³Pã€ã¨å‘¼ã°ã‚ŒãŸãŒã€ç¾åœ¨ã¯ãƒ“ã‚¿ãƒŸãƒ³ã¨ã—ã¦å…¬å¼ã«ã¯èªã‚ã‚‰ã‚Œã¦ã„ãªã„ã€‚æ¯›ç´°è¡€ç®¡ã¸ã®ä½œç”¨ã‚„ãƒ“ã‚¿ãƒŸãƒ³Cã¨ã®é–¢é€£ãŒç ”ç©¶ã•ã‚Œã¦ã„ã‚‹ã€‚"},
  {id:"paba",name:"PABA",nameEn:"Para-Aminobenzoic Acid",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"ãƒ’ãƒˆã§ã®æ¬ ä¹ç—‡ã¯ç¢ºèªã•ã‚Œã¦ã„ãªã„",excess:"åãæ°—ã€ä¸‹ç—¢ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"ãƒ¬ãƒãƒ¼",amount:"é«˜å«æœ‰"},{name:"å…¨ç²’ç©€ç‰©",amount:"å«æœ‰"},{name:"åµ",amount:"å«æœ‰"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"å«æœ‰"},{name:"ãã®ã“é¡",amount:"å«æœ‰"}],description:"ãƒ“ã‚¿ãƒŸãƒ³æ§˜ç‰©è³ªã€‚è‘‰é…¸ã®åŒ–å­¦æ§‹é€ ã®ä¸€éƒ¨ã ãŒã€ãƒ’ãƒˆãŒé£Ÿäº‹ã‹ã‚‰æ‘‚å–ã™ã‚‹å¿…è¦æ€§ã¯ç¢ºç«‹ã•ã‚Œã¦ã„ãªã„ã€‚ã‹ã¤ã¦ãƒ“ã‚¿ãƒŸãƒ³Bxã¨å‘¼ã°ã‚ŒãŸæ™‚æœŸãŒã‚ã‚‹ãŒã€ç¾åœ¨ãã®åˆ†é¡ã¯æ’¤å›ã•ã‚Œã¦ã„ã‚‹ã€‚"},
  {id:"lipoicAcid",name:"Î±-ãƒªãƒé…¸",nameEn:"Alpha-Lipoic Acid",category:"vitamin",subCategory:"æ°´æº¶æ€§",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"ä½“å†…åˆæˆã•ã‚Œã‚‹ãŸã‚é£Ÿäº‹æ€§æ¬ ä¹ã®å ±å‘Šãªã—",excess:"èƒƒè…¸éšœå®³ã€çš®è†šç™ºç–¹ï¼ˆç¨€ï¼‰",foods:[{name:"ãƒ¬ãƒãƒ¼",amount:"å«æœ‰"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"å«æœ‰"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"å«æœ‰"},{name:"ãƒˆãƒãƒˆ",amount:"å«æœ‰"},{name:"ã˜ã‚ƒãŒã„ã‚‚",amount:"å«æœ‰"}],description:"ãƒ“ã‚¿ãƒŸãƒ³æ§˜ç‰©è³ªã€‚ä½“å†…ã§ãƒŸãƒˆã‚³ãƒ³ãƒ‰ãƒªã‚¢ã«ãŠã„ã¦åˆæˆã•ã‚Œã‚‹ãŸã‚ã€å¿…é ˆæ „é¤Šç´ ã«ã¯åˆ†é¡ã•ã‚Œãªã„ã€‚æŠ—é…¸åŒ–ä½œç”¨ã«é–¢ã™ã‚‹ç ”ç©¶ãŒé€²ã‚ã‚‰ã‚Œã¦ã„ã‚‹ãŒã€ã‚µãƒ—ãƒªãƒ¡ãƒ³ãƒˆã¨ã—ã¦ã®æœ‰åŠ¹æ€§ã¯ç¢ºç«‹é€”ä¸Šã€‚"},

  // === MINERALS: Major (ä¸»è¦ãƒŸãƒãƒ©ãƒ«) ===
  {id:"ca",name:"ã‚«ãƒ«ã‚·ã‚¦ãƒ ",nameEn:"Calcium",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"650ã€œ800",deficiency:"éª¨ç²—é¬†ç—‡ã€ãã‚‹ç—…ã€ãƒ†ã‚¿ãƒ‹ãƒ¼ï¼ˆç­‹ç—™æ”£ï¼‰ã€æ­¯ã®è„†å¼±åŒ–",excess:"ä¾¿ç§˜ã€è…çµçŸ³ã€é‰„ãƒ»äºœé‰›ã®å¸åé˜»å®³",foods:[{name:"å¹²ã—ã‚¨ãƒ“",amount:"7,100mg/100g"},{name:"ç…®å¹²ã—",amount:"2,200mg/100g"},{name:"ãƒ‘ãƒ«ãƒ¡ã‚¶ãƒ³ãƒãƒ¼ã‚º",amount:"1,300mg/100g"},{name:"å°æ¾èœ",amount:"170mg/100g"},{name:"ç‰›ä¹³",amount:"110mg/100g"}],description:"ä½“å†…ã§æœ€ã‚‚å¤šã„ãƒŸãƒãƒ©ãƒ«ã€‚éª¨ãƒ»æ­¯ã®ä¸»æˆåˆ†ã€‚ç­‹åç¸®ã€ç¥çµŒä¼é”ã€è¡€æ¶²å‡å›ºã«ã‚‚é–¢ä¸ã€‚ãƒ“ã‚¿ãƒŸãƒ³DãŒå¸åã‚’ä¿ƒé€²ã€‚"},
  {id:"p",name:"ãƒªãƒ³",nameEn:"Phosphorus",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"800ã€œ1,000",deficiency:"éª¨è»ŸåŒ–ç—‡ã€ç­‹åŠ›ä½ä¸‹ã€é£Ÿæ¬²ä¸æŒ¯ï¼ˆæ¬ ä¹ã¯ç¨€ï¼‰",excess:"ã‚«ãƒ«ã‚·ã‚¦ãƒ ã®å¸åé˜»å®³ã€éª¨ä»£è¬ç•°å¸¸ã€è…éšœå®³",foods:[{name:"ã—ã‚‰ã™å¹²ã—",amount:"860mg/100g"},{name:"ãƒ—ãƒ­ã‚»ã‚¹ãƒãƒ¼ã‚º",amount:"730mg/100g"},{name:"å¤§è±†",amount:"580mg/100g"},{name:"åµé»„",amount:"570mg/100g"},{name:"ç…®å¹²ã—",amount:"1,500mg/100g"}],description:"ã‚«ãƒ«ã‚·ã‚¦ãƒ ã«æ¬¡ã„ã§ä½“å†…ã«å¤šã„ãƒŸãƒãƒ©ãƒ«ã€‚éª¨ãƒ»æ­¯ã®æ§‹æˆæˆåˆ†ã€‚ATPãƒ»DNAãƒ»RNAã®æ§‹æˆè¦ç´ ã€‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ä»£è¬ã«å¿…é ˆã€‚"},
  {id:"mg",name:"ãƒã‚°ãƒã‚·ã‚¦ãƒ ",nameEn:"Magnesium",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"270ã€œ370",deficiency:"ç­‹ç—™æ”£ã€ä¸æ•´è„ˆã€éª¨ç²—é¬†ç—‡ã€é«˜è¡€åœ§ã€ç²¾ç¥ä¸å®‰",excess:"ä¸‹ç—¢ï¼ˆã‚µãƒ—ãƒªãƒ¡ãƒ³ãƒˆéå‰°æ™‚ï¼‰",foods:[{name:"ã‚ãŠã•",amount:"3,200mg/100g"},{name:"å¹²ã—ã²ã˜ã",amount:"640mg/100g"},{name:"ã‚¢ãƒ¼ãƒ¢ãƒ³ãƒ‰",amount:"310mg/100g"},{name:"å¤§è±†",amount:"220mg/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"69mg/100g"}],description:"300ä»¥ä¸Šã®é…µç´ åå¿œã«é–¢ä¸ã€‚ç­‹è‚‰ãƒ»ç¥çµŒæ©Ÿèƒ½ã®ç¶­æŒã€éª¨ã®å½¢æˆã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ç”£ç”Ÿã«é‡è¦ã€‚ãƒ“ã‚¿ãƒŸãƒ³Dã®æ´»æ€§åŒ–ã«ã‚‚å¿…è¦ã€‚"},
  {id:"na",name:"ãƒŠãƒˆãƒªã‚¦ãƒ ",nameEn:"Sodium",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"600ï¼ˆé£Ÿå¡©ç›¸å½“7.5gæœªæº€ç›®æ¨™ï¼‰",deficiency:"ä½ãƒŠãƒˆãƒªã‚¦ãƒ è¡€ç—‡ã€ç­‹ç—™æ”£ã€ã‚ã¾ã„ã€æ„è­˜éšœå®³",excess:"é«˜è¡€åœ§ã€èƒƒãŒã‚“ãƒªã‚¹ã‚¯ã€è…è‡“è² æ‹…ã€ã‚€ãã¿",foods:[{name:"é£Ÿå¡©",amount:"39,000mg/100g"},{name:"é†¤æ²¹",amount:"5,700mg/100g"},{name:"å‘³å™Œ",amount:"4,900mg/100g"},{name:"æ¢…å¹²ã—",amount:"8,700mg/100g"},{name:"ãŸãã‚ã‚“",amount:"1,700mg/100g"}],description:"ä½“æ¶²ã®æµ¸é€åœ§èª¿ç¯€ã€é…¸å¡©åŸºå¹³è¡¡ã®ç¶­æŒã«å¿…é ˆã€‚ç¥çµŒåˆºæ¿€ã®ä¼é”ã€ç­‹åç¸®ã«ã‚‚é–¢ä¸ã€‚ã‚«ãƒªã‚¦ãƒ ã¨æ‹®æŠ—çš„ã«ä½œç”¨ã€‚"},
  {id:"k",name:"ã‚«ãƒªã‚¦ãƒ ",nameEn:"Potassium",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"2,500ã€œ3,000",deficiency:"ç­‹åŠ›ä½ä¸‹ã€ä¸æ•´è„ˆã€ä¾¿ç§˜ã€å€¦æ€ æ„Ÿ",excess:"é«˜ã‚«ãƒªã‚¦ãƒ è¡€ç—‡ï¼ˆè…æ©Ÿèƒ½ä½ä¸‹æ™‚ï¼‰ã€ä¸æ•´è„ˆ",foods:[{name:"å¹²ã—æ˜†å¸ƒ",amount:"5,300mg/100g"},{name:"å¹²ã—ã²ã˜ã",amount:"4,400mg/100g"},{name:"å¤§è±†",amount:"1,900mg/100g"},{name:"ãƒãƒŠãƒŠ",amount:"360mg/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"690mg/100g"}],description:"ç´°èƒå†…æ¶²ã®ä¸»è¦ãªé™½ã‚¤ã‚ªãƒ³ã€‚ãƒŠãƒˆãƒªã‚¦ãƒ ã®æ’æ³„ã‚’ä¿ƒé€²ã—è¡€åœ§ã‚’ä¸‹ã’ã‚‹ã€‚ç­‹åç¸®ã€ç¥çµŒä¼é”ã«é‡è¦ã€‚"},
  {id:"cl",name:"å¡©ç´ ",nameEn:"Chlorine",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"é£Ÿå¡©ã¨ã—ã¦æ‘‚å–",deficiency:"ä»£è¬æ€§ã‚¢ãƒ«ã‚«ãƒ­ãƒ¼ã‚·ã‚¹ã€é£Ÿæ¬²ä¸æŒ¯",excess:"é«˜è¡€åœ§ï¼ˆãƒŠãƒˆãƒªã‚¦ãƒ ã¨å…±ã«ï¼‰",foods:[{name:"é£Ÿå¡©",amount:"59,900mg/100g"},{name:"é†¤æ²¹",amount:"å«æœ‰"},{name:"å‘³å™Œ",amount:"å«æœ‰"},{name:"æµ·è—»é¡",amount:"å«æœ‰"},{name:"ã‚ªãƒªãƒ¼ãƒ–",amount:"å«æœ‰"}],description:"èƒƒæ¶²ï¼ˆå¡©é…¸ï¼‰ã®æ§‹æˆæˆåˆ†ã¨ã—ã¦æ¶ˆåŒ–ã«é–¢ä¸ã€‚ä½“æ¶²ã®æµ¸é€åœ§èª¿ç¯€ã€é…¸å¡©åŸºå¹³è¡¡ã®ç¶­æŒã€‚é£Ÿå¡©ï¼ˆNaClï¼‰ã¨ã—ã¦æ‘‚å–ã€‚"},
  {id:"s",name:"ç¡«é»„",nameEn:"Sulfur",category:"mineral",subCategory:"ä¸»è¦ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‹ã‚‰æ‘‚å–",deficiency:"çš®è†šãƒ»çˆªãƒ»æ¯›é«ªã®ç•°å¸¸ã€é–¢ç¯€éšœå®³",excess:"éå‰°ç—‡ã®å ±å‘Šã¯ç¨€",foods:[{name:"åµ",amount:"é«˜å«æœ‰"},{name:"ã«ã‚“ã«ã",amount:"é«˜å«æœ‰"},{name:"ç‰ã­ã",amount:"å«æœ‰"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"å«æœ‰"},{name:"è‚‰é¡å…¨èˆ¬",amount:"å«æœ‰"}],description:"ãƒ¡ãƒã‚ªãƒ‹ãƒ³ãƒ»ã‚·ã‚¹ãƒ†ã‚¤ãƒ³ãªã©å«ç¡«ã‚¢ãƒŸãƒé…¸ã®æ§‹æˆå…ƒç´ ã€‚ã‚±ãƒ©ãƒãƒ³ï¼ˆæ¯›é«ªãƒ»çˆªï¼‰ã®ææ–™ã€‚è§£æ¯’ä½œç”¨ã«ã‚‚é–¢ä¸ã€‚"},

  // === MINERALS: Trace (å¾®é‡ãƒŸãƒãƒ©ãƒ«) ===
  {id:"fe",name:"é‰„",nameEn:"Iron",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"6.5ã€œ10.5",deficiency:"é‰„æ¬ ä¹æ€§è²§è¡€ã€ç–²åŠ´æ„Ÿã€å‹•æ‚¸ã€æ¯åˆ‡ã‚Œã€é›†ä¸­åŠ›ä½ä¸‹",excess:"ãƒ˜ãƒ¢ã‚¯ãƒ­ãƒãƒˆãƒ¼ã‚·ã‚¹ã€è‚éšœå®³ã€é…¸åŒ–ã‚¹ãƒˆãƒ¬ã‚¹",foods:[{name:"è±šãƒ¬ãƒãƒ¼",amount:"13mg/100g"},{name:"ã‚ã•ã‚Š",amount:"3.8mg/100g"},{name:"å°æ¾èœ",amount:"2.8mg/100g"},{name:"ã»ã†ã‚Œã‚“è‰",amount:"2.0mg/100g"},{name:"ç´è±†",amount:"3.3mg/100g"}],description:"ãƒ˜ãƒ¢ã‚°ãƒ­ãƒ“ãƒ³ãƒ»ãƒŸã‚ªã‚°ãƒ­ãƒ“ãƒ³ã®æ§‹æˆæˆåˆ†ã§é…¸ç´ é‹æ¬ã«å¿…é ˆã€‚ãƒ˜ãƒ é‰„ï¼ˆå‹•ç‰©æ€§ï¼‰ã¯éãƒ˜ãƒ é‰„ï¼ˆæ¤ç‰©æ€§ï¼‰ã‚ˆã‚Šå¸åç‡ãŒé«˜ã„ã€‚"},
  {id:"zn",name:"äºœé‰›",nameEn:"Zinc",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"8ã€œ11",deficiency:"å‘³è¦šéšœå®³ã€æˆé•·éšœå®³ã€å…ç–«åŠ›ä½ä¸‹ã€çš®è†šç‚ã€è„±æ¯›",excess:"éŠ…æ¬ ä¹ã€è²§è¡€ã€èƒƒè…¸éšœå®³",foods:[{name:"ç‰¡è £",amount:"14mg/100g"},{name:"è±šãƒ¬ãƒãƒ¼",amount:"6.9mg/100g"},{name:"ç‰›ã‚‚ã‚‚è‚‰",amount:"4.4mg/100g"},{name:"ã‚«ã‚·ãƒ¥ãƒ¼ãƒŠãƒƒãƒ„",amount:"5.4mg/100g"},{name:"é«˜é‡è±†è…",amount:"5.2mg/100g"}],description:"300ä»¥ä¸Šã®é…µç´ ã®æ´»æ€§ã«å¿…è¦ã€‚DNAåˆæˆã€å…ç–«æ©Ÿèƒ½ã€å‘³è¦šç¶­æŒã€å‰µå‚·æ²»ç™’ã«é–¢ä¸ã€‚ãƒ“ã‚¿ãƒŸãƒ³Aã®ä»£è¬ã«ã‚‚å¿…è¦ã€‚"},
  {id:"cu",name:"éŠ…",nameEn:"Copper",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"0.7ã€œ1.0",deficiency:"è²§è¡€ï¼ˆé‰„åˆ©ç”¨éšœå®³ï¼‰ã€ç™½è¡€çƒæ¸›å°‘ã€éª¨ç•°å¸¸ã€æ¯›é«ªè‰²ç´ è„±å¤±",excess:"è‚éšœå®³ã€æº¶è¡€æ€§è²§è¡€ï¼ˆã‚¦ã‚£ãƒ«ã‚½ãƒ³ç—…ï¼‰",foods:[{name:"ç‰›ãƒ¬ãƒãƒ¼",amount:"5.3mg/100g"},{name:"ã—ã‚ƒã“",amount:"3.5mg/100g"},{name:"ã‚«ã‚·ãƒ¥ãƒ¼ãƒŠãƒƒãƒ„",amount:"1.9mg/100g"},{name:"å¤§è±†",amount:"1.1mg/100g"},{name:"ã‚³ã‚³ã‚¢",amount:"3.8mg/100g"}],description:"é‰„ã®ä»£è¬ï¼ˆã‚»ãƒ«ãƒ­ãƒ—ãƒ©ã‚¹ãƒŸãƒ³ï¼‰ã«ä¸å¯æ¬ ã€‚ãƒ¡ãƒ©ãƒ‹ãƒ³è‰²ç´ ç”Ÿæˆã€ã‚³ãƒ©ãƒ¼ã‚²ãƒ³æ¶æ©‹å½¢æˆã€æŠ—é…¸åŒ–é…µç´ SODã®æ§‹æˆæˆåˆ†ã€‚"},
  {id:"mn",name:"ãƒãƒ³ã‚¬ãƒ³",nameEn:"Manganese",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"3.5ã€œ4.0",deficiency:"éª¨ä»£è¬ç•°å¸¸ã€æˆé•·éšœå®³ã€ç³–è„‚è³ªä»£è¬ç•°å¸¸",excess:"ä¸­æ¢ç¥çµŒéšœå®³ï¼ˆè·æ¥­æ€§æš´éœ²ï¼‰",foods:[{name:"ç„ç±³",amount:"2.1mg/100g"},{name:"æ —",amount:"3.3mg/100g"},{name:"å¤§è±†",amount:"2.3mg/100g"},{name:"ç”Ÿå§œ",amount:"5.0mg/100g"},{name:"ã‚Œã‚“ã“ã‚“",amount:"0.78mg/100g"}],description:"éª¨å½¢æˆã€ç³–è„‚è³ªä»£è¬ã€æŠ—é…¸åŒ–é…µç´ MnSODã®æ§‹æˆæˆåˆ†ã€‚ãƒ”ãƒ«ãƒ“ãƒ³é…¸ã‚«ãƒ«ãƒœã‚­ã‚·ãƒ©ãƒ¼ã‚¼ã®è£œå› å­ã¨ã—ã¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ä»£è¬ã«ã‚‚é–¢ä¸ã€‚"},
  {id:"iodine",name:"ãƒ¨ã‚¦ç´ ",nameEn:"Iodine",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"Î¼g",rda:"130",deficiency:"ç”²çŠ¶è…ºè…«ã€ã‚¯ãƒ¬ãƒãƒ³ç—‡ï¼ˆå…ˆå¤©æ€§ï¼‰ã€ç”²çŠ¶è…ºæ©Ÿèƒ½ä½ä¸‹",excess:"ç”²çŠ¶è…ºæ©Ÿèƒ½éšœå®³ï¼ˆéå‰°ã§ã‚‚æ©Ÿèƒ½ä½ä¸‹ã‚’èµ·ã“ã—ã†ã‚‹ï¼‰",foods:[{name:"æ˜†å¸ƒ",amount:"240,000Î¼g/100g"},{name:"ã‚ã‹ã‚",amount:"8,500Î¼g/100g"},{name:"ã²ã˜ã",amount:"45,000Î¼g/100g"},{name:"ãŸã‚‰",amount:"350Î¼g/100g"},{name:"ç‰¡è £",amount:"73Î¼g/100g"}],description:"ç”²çŠ¶è…ºãƒ›ãƒ«ãƒ¢ãƒ³ï¼ˆT3ãƒ»T4ï¼‰ã®æ§‹æˆå…ƒç´ ã€‚åŸºç¤ä»£è¬ã®èª¿ç¯€ã€æˆé•·ãƒ»ç™ºé”ã«å¿…é ˆã€‚æ—¥æœ¬äººã¯æµ·è—»æ‘‚å–ã«ã‚ˆã‚Šå……è¶³ã—ã‚„ã™ã„ã€‚"},
  {id:"se",name:"ã‚»ãƒ¬ãƒ³",nameEn:"Selenium",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"Î¼g",rda:"25ã€œ30",deficiency:"å¿ƒç­‹ç—‡ï¼ˆå…‹å±±ç—…ï¼‰ã€å…ç–«åŠ›ä½ä¸‹ã€ç”²çŠ¶è…ºæ©Ÿèƒ½ä½ä¸‹",excess:"è„±æ¯›ã€çˆªã®å¤‰å½¢ã€ä¸‹ç—¢ã€ç¥çµŒéšœå®³",foods:[{name:"ã‹ã¤ãŠ",amount:"100Î¼g/100g"},{name:"ã¾ãã‚",amount:"82Î¼g/100g"},{name:"åµ",amount:"32Î¼g/100g"},{name:"ãŸã‚‰ã“",amount:"130Î¼g/100g"},{name:"ãƒ–ãƒ©ã‚¸ãƒ«ãƒŠãƒƒãƒ„",amount:"1,917Î¼g/100g"}],description:"æŠ—é…¸åŒ–é…µç´ ã‚°ãƒ«ã‚¿ãƒã‚ªãƒ³ãƒšãƒ«ã‚ªã‚­ã‚·ãƒ€ãƒ¼ã‚¼ã®æ§‹æˆæˆåˆ†ã€‚ãƒ“ã‚¿ãƒŸãƒ³Eã¨ç›¸ä¹—çš„ã«æŠ—é…¸åŒ–ä½œç”¨ã‚’ç™ºæ®ã€‚ç”²çŠ¶è…ºãƒ›ãƒ«ãƒ¢ãƒ³ä»£è¬ã«ã‚‚å¿…è¦ã€‚"},
  {id:"mo",name:"ãƒ¢ãƒªãƒ–ãƒ‡ãƒ³",nameEn:"Molybdenum",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"Î¼g",rda:"25ã€œ30",deficiency:"é »è„ˆã€é ­ç—›ã€å¤œç›²ç—‡ï¼ˆæ¬ ä¹ã¯æ¥µã‚ã¦ç¨€ï¼‰",excess:"éŠ…ã®æ’æ³„ä¿ƒé€²ã€ç—›é¢¨æ§˜ç—‡çŠ¶",foods:[{name:"å¤§è±†",amount:"350Î¼g/100g"},{name:"æè±†",amount:"240Î¼g/100g"},{name:"ãã°",amount:"130Î¼g/100g"},{name:"ãƒ¬ãƒãƒ¼",amount:"120Î¼g/100g"},{name:"è½èŠ±ç”Ÿ",amount:"95Î¼g/100g"}],description:"ã‚­ã‚µãƒ³ãƒãƒ³ã‚ªã‚­ã‚·ãƒ€ãƒ¼ã‚¼ç­‰ã®è£œå› å­ã€‚å°¿é…¸ã®ä»£è¬ã€ç¡«é»„å«æœ‰ã‚¢ãƒŸãƒé…¸ã®ä»£è¬ã«é–¢ä¸ã€‚é€šå¸¸ã®é£Ÿäº‹ã§ååˆ†æ‘‚å–å¯èƒ½ã€‚"},
  {id:"cr",name:"ã‚¯ãƒ­ãƒ ",nameEn:"Chromium",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"Î¼g",rda:"10ï¼ˆæ—¥æœ¬AIå€¤ï¼‰",deficiency:"è€ç³–èƒ½ç•°å¸¸ã®å ±å‘Šã‚ã‚Šï¼ˆãƒ’ãƒˆã§ã®ç¢ºèªã¯é™å®šçš„ï¼‰",excess:"è…éšœå®³ã€è‚éšœå®³ï¼ˆå…­ä¾¡ã‚¯ãƒ­ãƒ ã®å ´åˆï¼‰",foods:[{name:"ã²ã˜ã",amount:"24Î¼g/100g"},{name:"é’æµ·è‹”",amount:"39Î¼g/100g"},{name:"ãƒ“ãƒ¼ãƒ«é…µæ¯",amount:"é«˜å«æœ‰"},{name:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",amount:"å«æœ‰"},{name:"å…¨ç²’ç©€ç‰©",amount:"å«æœ‰"}],description:"æ—¥æœ¬ã®é£Ÿäº‹æ‘‚å–åŸºæº–ã§ã¯ç›®å®‰é‡ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ãŒã€EFSAï¼ˆæ¬§å·é£Ÿå“å®‰å…¨æ©Ÿé–¢ï¼‰ã¯2014å¹´ã«ãƒ’ãƒˆã§ã®å¿…é ˆæ€§ã®æ ¹æ‹ ä¸ååˆ†ã¨ã—ã¦å¿…é ˆãƒŸãƒãƒ©ãƒ«ã‹ã‚‰é™¤å¤–ã€‚ç³–ä»£è¬ã¸ã®é–¢ä¸ï¼ˆè€ç³–å› å­GTFèª¬ï¼‰ã¯å†è©•ä¾¡ãŒé€²ã‚“ã§ã„ã‚‹ã€‚å…­ä¾¡ã‚¯ãƒ­ãƒ ã¯æœ‰æ¯’ã§ä¸‰ä¾¡ã‚¯ãƒ­ãƒ ã¨ã¯åŒºåˆ¥ã•ã‚Œã‚‹ã€‚"},
  {id:"co",name:"ã‚³ãƒãƒ«ãƒˆ",nameEn:"Cobalt",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"Î¼g",rda:"å˜ä½“ã§ã®åŸºæº–ãªã—ï¼ˆB12ã¨ã—ã¦æ‘‚å–ï¼‰",deficiency:"ãƒ“ã‚¿ãƒŸãƒ³B12æ¬ ä¹ã‚’é€šã˜ãŸæ‚ªæ€§è²§è¡€",excess:"ç”²çŠ¶è…ºè…«ã€å¿ƒç­‹ç—‡ï¼ˆè·æ¥­çš„éå‰°æš´éœ²æ™‚ï¼‰",foods:[{name:"ã—ã˜ã¿",amount:"å«æœ‰"},{name:"ç‰›ãƒ¬ãƒãƒ¼",amount:"å«æœ‰"},{name:"ã‚ã•ã‚Š",amount:"å«æœ‰"},{name:"ç‰¡è £",amount:"å«æœ‰"},{name:"æµ·è‹”",amount:"å«æœ‰"}],description:"ãƒ“ã‚¿ãƒŸãƒ³B12ã®åˆ†å­ä¸­å¿ƒã«ä½ç½®ã™ã‚‹é‡‘å±å…ƒç´ ã€‚å˜ä½“ã¨ã—ã¦ã®é£Ÿäº‹æ‘‚å–åŸºæº–ã¯ãªãã€B12ã¨ã—ã¦æ‘‚å–ã™ã‚‹ã€‚ã‚³ãƒãƒ«ãƒˆè‡ªä½“ã®å¿…é ˆæ€§ã¯B12ã‚’ä»‹ã—ãŸé–“æ¥çš„ãªã‚‚ã®ã€‚"},
  {id:"f",name:"ãƒ•ãƒƒç´ ",nameEn:"Fluorine",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"è™«æ­¯ãƒªã‚¹ã‚¯å¢—åŠ ï¼ˆæ¬ ä¹ç—‡ã¨ã„ã†ã‚ˆã‚Šäºˆé˜²åŠ¹æœã®å–ªå¤±ï¼‰",excess:"ãƒ•ãƒƒç´ ç—‡ï¼ˆæ­¯ã®ç™½æ–‘ãƒ»è¤è‰²å¤‰è‰²ï¼‰ã€éª¨ç¡¬åŒ–ç—‡",foods:[{name:"ç·‘èŒ¶",amount:"å«æœ‰"},{name:"æµ·ç”£ç‰©",amount:"å«æœ‰"},{name:"ã„ã‚ã—",amount:"å«æœ‰"},{name:"æ°´é“æ°´ï¼ˆåœ°åŸŸå·®ï¼‰",amount:"å¾®é‡"},{name:"ç´…èŒ¶",amount:"å«æœ‰"}],description:"æ­¯ã®ã‚¨ãƒŠãƒ¡ãƒ«è³ªã‚’å¼·åŒ–ã™ã‚‹ä½œç”¨ã¯åºƒãèªã‚ã‚‰ã‚Œã¦ã„ã‚‹ãŒã€ä»£è¬ä¸Šã®å¿…é ˆæ€§ã«ã¤ã„ã¦ã¯è­°è«–ãŒã‚ã‚‹ã€‚WHO/IOMã¯å¿…é ˆæ „é¤Šç´ ã¨ã—ã¦ã®åˆ†é¡ã‚’ä¿ç•™ã€‚æ­¯ç£¨ãç²‰ã‚„ä¸€éƒ¨åœ°åŸŸã®æ°´é“æ°´ã«æ·»åŠ ã•ã‚Œã¦ã„ã‚‹ã€‚"},
  {id:"si",name:"ã‚±ã‚¤ç´ ",nameEn:"Silicon",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"å‹•ç‰©å®Ÿé¨“ã§éª¨ãƒ»çµåˆçµ„ç¹”ã®ç•°å¸¸ãŒå ±å‘Šï¼ˆãƒ’ãƒˆã§ã¯æœªç¢ºèªï¼‰",excess:"è…çµçŸ³ãƒªã‚¹ã‚¯ï¼ˆå¤§é‡æ‘‚å–æ™‚ã®å ±å‘Šã‚ã‚Šï¼‰",foods:[{name:"ç„ç±³",amount:"å«æœ‰"},{name:"å¤§éº¦",amount:"å«æœ‰"},{name:"ã˜ã‚ƒãŒã„ã‚‚",amount:"å«æœ‰"},{name:"ãƒãƒŠãƒŠ",amount:"å«æœ‰"},{name:"ãƒŸãƒãƒ©ãƒ«ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼",amount:"å«æœ‰"}],description:"å‹•ç‰©å®Ÿé¨“ã§ã¯ã‚³ãƒ©ãƒ¼ã‚²ãƒ³æ¶æ©‹ã‚„éª¨çŸ³ç°åŒ–ã¸ã®é–¢ä¸ãŒç¤ºå”†ã•ã‚Œã¦ã„ã‚‹ãŒã€ãƒ’ãƒˆã§ã®å¿…é ˆæ€§ã‚’è¨¼æ˜ã—ãŸç ”ç©¶ã¯ä¸è¶³ã€‚å…¬çš„ãªæ‘‚å–åŸºæº–ã¯è¨­å®šã•ã‚Œã¦ã„ãªã„ã€‚"},
  {id:"b",name:"ãƒ›ã‚¦ç´ ",nameEn:"Boron",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"mg",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"å‹•ç‰©å®Ÿé¨“ã§éª¨ä»£è¬ç•°å¸¸ãŒå ±å‘Šï¼ˆãƒ’ãƒˆã§ã¯æœªç¢ºç«‹ï¼‰",excess:"ä¸‹ç—¢ã€å˜”åã€çš®è†šç‚ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"ã‚Šã‚“ã”",amount:"å«æœ‰"},{name:"ã¶ã©ã†",amount:"å«æœ‰"},{name:"ãƒŠãƒƒãƒ„é¡",amount:"å«æœ‰"},{name:"è±†é¡",amount:"å«æœ‰"},{name:"ã¯ã¡ã¿ã¤",amount:"å«æœ‰"}],description:"ã‚«ãƒ«ã‚·ã‚¦ãƒ ã‚„ãƒ“ã‚¿ãƒŸãƒ³Dã®ä»£è¬ã¸ã®å½±éŸ¿ãŒä¸€éƒ¨ã®ç ”ç©¶ã§å ±å‘Šã•ã‚Œã¦ã„ã‚‹ãŒã€ãƒ’ãƒˆã§ã®å¿…é ˆæ€§ã¯ç¢ºç«‹ã•ã‚Œã¦ã„ãªã„ã€‚IOMã¯å¿…é ˆæ „é¤Šç´ ã¨ã—ã¦ã®åˆ†é¡ã‚’è¦‹é€ã£ã¦ã„ã‚‹ã€‚"},
  {id:"v",name:"ãƒãƒŠã‚¸ã‚¦ãƒ ",nameEn:"Vanadium",category:"mineral",subCategory:"å¾®é‡ãƒŸãƒãƒ©ãƒ«",unit:"Î¼g",rda:"å…¬çš„åŸºæº–ãªã—",deficiency:"å‹•ç‰©å®Ÿé¨“ã§æˆé•·éšœå®³ãŒå ±å‘Šï¼ˆãƒ’ãƒˆã§ã¯æœªç¢ºèªï¼‰",excess:"èƒƒè…¸éšœå®³ã€è…æ¯’æ€§ï¼ˆå¤§é‡æ‘‚å–æ™‚ï¼‰",foods:[{name:"è²é¡",amount:"å«æœ‰"},{name:"ãƒãƒƒã‚·ãƒ¥ãƒ«ãƒ¼ãƒ ",amount:"å«æœ‰"},{name:"ãƒ‘ã‚»ãƒª",amount:"å«æœ‰"},{name:"é»’èƒ¡æ¤’",amount:"å«æœ‰"},{name:"å…¨ç²’ç©€ç‰©",amount:"å«æœ‰"}],description:"è©¦é¨“ç®¡å†…ãƒ»å‹•ç‰©å®Ÿé¨“ã§ã‚¤ãƒ³ã‚¹ãƒªãƒ³æ§˜ä½œç”¨ãŒå ±å‘Šã•ã‚Œã¦ã„ã‚‹ãŒã€ãƒ’ãƒˆã§ã®æœ‰åŠ¹æ€§ãƒ»å¿…é ˆæ€§ã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã¯éå¸¸ã«é™ã‚‰ã‚Œã¦ã„ã‚‹ã€‚IOMã¯å¿…é ˆæ „é¤Šç´ ã¨ã¯èªã‚ã¦ã„ãªã„ã€‚"},

  // === AMINO ACIDS: Essential (å¿…é ˆã‚¢ãƒŸãƒé…¸) ===
  {id:"ile",name:"ã‚¤ã‚½ãƒ­ã‚¤ã‚·ãƒ³",nameEn:"Isoleucine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š20mg",deficiency:"æˆé•·éšœå®³ã€ç­‹åŠ›ä½ä¸‹ã€è¡€ç³–èª¿ç¯€ç•°å¸¸",excess:"éå‰°ç—‡ã¯ç¨€ï¼ˆè…è‡“ã«è² æ‹…ï¼‰",foods:[{name:"é¶ã‚€ã­è‚‰",amount:"1,100mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"1,200mg/100g"},{name:"åµ",amount:"670mg/100g"},{name:"å¤§è±†",amount:"1,800mg/100g"},{name:"ç‰›ä¹³",amount:"170mg/100g"}],description:"BCAAï¼ˆåˆ†å²é–ã‚¢ãƒŸãƒé…¸ï¼‰ã®ä¸€ã¤ã€‚ç­‹è‚‰ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼æºã€ç­‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªåˆæˆã®ä¿ƒé€²ã€‚è¡€ç³–å€¤ã®èª¿ç¯€ã«ã‚‚é–¢ä¸ã€‚"},
  {id:"leu",name:"ãƒ­ã‚¤ã‚·ãƒ³",nameEn:"Leucine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š39mg",deficiency:"æˆé•·éšœå®³ã€ç­‹åŠ›ä½ä¸‹ã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªä»£è¬ç•°å¸¸",excess:"éå‰°ç—‡ã¯ç¨€",foods:[{name:"é¶ã‚€ã­è‚‰",amount:"1,900mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"2,000mg/100g"},{name:"å¤§è±†",amount:"2,900mg/100g"},{name:"åµ",amount:"1,100mg/100g"},{name:"ãƒãƒ¼ã‚º",amount:"2,400mg/100g"}],description:"BCAAã®ä¸­ã§æœ€ã‚‚ç­‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªåˆæˆã‚’åˆºæ¿€ã™ã‚‹ã€‚mTORçµŒè·¯ã‚’æ´»æ€§åŒ–ã€‚ç­‹è‚‰ã®åˆ†è§£æŠ‘åˆ¶ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ä¾›çµ¦ã«ã‚‚é‡è¦ã€‚"},
  {id:"lys",name:"ãƒªã‚·ãƒ³",nameEn:"Lysine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š30mg",deficiency:"æˆé•·éšœå®³ã€å…ç–«åŠ›ä½ä¸‹ã€è²§è¡€ã€ã‚³ãƒ©ãƒ¼ã‚²ãƒ³åˆæˆä½ä¸‹",excess:"èƒƒç—™æ”£ã€ä¸‹ç—¢ï¼ˆã‚µãƒ—ãƒªéå‰°æ™‚ï¼‰",foods:[{name:"ã‹ã¤ãŠ",amount:"2,100mg/100g"},{name:"é¶ã‚€ã­è‚‰",amount:"2,000mg/100g"},{name:"å¤§è±†",amount:"2,400mg/100g"},{name:"ãƒãƒ¼ã‚º",amount:"2,300mg/100g"},{name:"åµ",amount:"900mg/100g"}],description:"ã‚³ãƒ©ãƒ¼ã‚²ãƒ³åˆæˆã€ã‚«ãƒ«ã‚·ã‚¦ãƒ å¸åä¿ƒé€²ã«é–¢ä¸ã€‚ç±³ãƒ»å°éº¦ã«å°‘ãªãã€æ—¥æœ¬é£Ÿã®åˆ¶é™ã‚¢ãƒŸãƒé…¸ã€‚ãƒ˜ãƒ«ãƒšã‚¹æŠ‘åˆ¶åŠ¹æœã‚‚å ±å‘Šã€‚"},
  {id:"met",name:"ãƒ¡ãƒã‚ªãƒ‹ãƒ³",nameEn:"Methionine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š10mgï¼ˆ+ã‚·ã‚¹ãƒ†ã‚¤ãƒ³ï¼‰",deficiency:"æˆé•·éšœå®³ã€è„‚è‚ªè‚ã€çš®è†šç‚ã€ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æ§˜ç—‡çŠ¶",excess:"ãƒ›ãƒ¢ã‚·ã‚¹ãƒ†ã‚¤ãƒ³å¢—åŠ ï¼ˆå‹•è„ˆç¡¬åŒ–ãƒªã‚¹ã‚¯ï¼‰",foods:[{name:"ã‹ã¤ãŠ",amount:"760mg/100g"},{name:"é¶ã‚€ã­è‚‰",amount:"640mg/100g"},{name:"åµ",amount:"400mg/100g"},{name:"å¤§è±†",amount:"530mg/100g"},{name:"ç‰›ä¹³",amount:"83mg/100g"}],description:"å«ç¡«ã‚¢ãƒŸãƒé…¸ã€‚S-ã‚¢ãƒ‡ãƒã‚·ãƒ«ãƒ¡ãƒã‚ªãƒ‹ãƒ³ï¼ˆSAMeï¼‰ã¨ã—ã¦ãƒ¡ãƒãƒ«åŸºä¾›ä¸ä½“ã«ã€‚è‚è‡“ã®è§£æ¯’ä½œç”¨ã€æŠ—é…¸åŒ–ç‰©è³ªã‚°ãƒ«ã‚¿ãƒã‚ªãƒ³ã®å‰é§†ä½“ã€‚"},
  {id:"phe",name:"ãƒ•ã‚§ãƒ‹ãƒ«ã‚¢ãƒ©ãƒ‹ãƒ³",nameEn:"Phenylalanine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š25mgï¼ˆ+ãƒãƒ­ã‚·ãƒ³ï¼‰",deficiency:"æˆé•·éšœå®³ã€ç²¾ç¥çš„ç„¡æ°—åŠ›ã€çš®è†šè‰²ç´ è„±å¤±",excess:"è¡€åœ§ä¸Šæ˜‡ã€é ­ç—›ï¼ˆPKUæ‚£è€…ã¯å³æ ¼åˆ¶é™ï¼‰",foods:[{name:"å¤§è±†",amount:"2,000mg/100g"},{name:"é¶ã‚€ã­è‚‰",amount:"1,000mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"960mg/100g"},{name:"ãƒãƒ¼ã‚º",amount:"1,500mg/100g"},{name:"åµ",amount:"680mg/100g"}],description:"ãƒãƒ­ã‚·ãƒ³ã«å¤‰æ›ã•ã‚Œã€ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³ãƒ»ãƒãƒ«ã‚¢ãƒ‰ãƒ¬ãƒŠãƒªãƒ³ãƒ»ã‚¢ãƒ‰ãƒ¬ãƒŠãƒªãƒ³ã®å‰é§†ä½“ã«ã€‚ãƒ¡ãƒ©ãƒ‹ãƒ³è‰²ç´ ã®åˆæˆã«ã‚‚å¿…è¦ã€‚PKUæ‚£è€…ã¯æ‘‚å–åˆ¶é™ãŒå¿…è¦ã€‚"},
  {id:"thr",name:"ãƒˆãƒ¬ã‚ªãƒ‹ãƒ³",nameEn:"Threonine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š15mg",deficiency:"æˆé•·éšœå®³ã€è„‚è‚ªè‚ã€é£Ÿæ¬²ä¸æŒ¯",excess:"éå‰°ç—‡ã®å ±å‘Šã¯ç¨€",foods:[{name:"é¶ã‚€ã­è‚‰",amount:"1,000mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"1,100mg/100g"},{name:"å¤§è±†",amount:"1,600mg/100g"},{name:"åµ",amount:"610mg/100g"},{name:"ç‰›ä¹³",amount:"150mg/100g"}],description:"ã‚³ãƒ©ãƒ¼ã‚²ãƒ³ã®æ§‹æˆã‚¢ãƒŸãƒé…¸ã€‚å°è…¸ç²˜è†œã®ãƒ ãƒãƒ³åˆæˆã«é‡è¦ã€‚è„‚è‚ªã®è“„ç©ã‚’é˜²ãè‚æ©Ÿèƒ½ã‚’ä¿è­·ã€‚ç±³ã«å°‘ãªã„åˆ¶é™ã‚¢ãƒŸãƒé…¸ã€‚"},
  {id:"trp",name:"ãƒˆãƒªãƒ—ãƒˆãƒ•ã‚¡ãƒ³",nameEn:"Tryptophan",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š4mg",deficiency:"ä¸çœ ã€ã†ã¤ç—‡çŠ¶ã€ãƒšãƒ©ã‚°ãƒ©ï¼ˆãƒŠã‚¤ã‚¢ã‚·ãƒ³ä¸è¶³æ™‚ï¼‰",excess:"çœ æ°—ã€å˜”åï¼ˆå¤§é‡ã‚µãƒ—ãƒªæ™‚ï¼‰",foods:[{name:"ã‹ã¤ãŠ",amount:"310mg/100g"},{name:"ãƒãƒ¼ã‚º",amount:"320mg/100g"},{name:"å¤§è±†",amount:"520mg/100g"},{name:"ãƒãƒŠãƒŠ",amount:"11mg/100g"},{name:"ç‰›ä¹³",amount:"42mg/100g"}],description:"ã‚»ãƒ­ãƒˆãƒ‹ãƒ³â†’ãƒ¡ãƒ©ãƒˆãƒ‹ãƒ³ã®å‰é§†ä½“ã§ç¡çœ ãƒ»ç²¾ç¥å®‰å®šã«é–¢ä¸ã€‚ãƒŠã‚¤ã‚¢ã‚·ãƒ³ï¼ˆãƒ“ã‚¿ãƒŸãƒ³B3ï¼‰ã«ã‚‚ä½“å†…å¤‰æ›ã•ã‚Œã‚‹ã€‚å¿…é ˆã‚¢ãƒŸãƒé…¸ã®ä¸­ã§æœ€ã‚‚å¿…è¦é‡ãŒå°‘ãªã„ã€‚"},
  {id:"val",name:"ãƒãƒªãƒ³",nameEn:"Valine",category:"aminoAcid",subCategory:"å¿…é ˆã‚¢ãƒŸãƒé…¸",unit:"mg",rda:"ä½“é‡1kgã‚ãŸã‚Š26mg",deficiency:"æˆé•·éšœå®³ã€ç­‹åŠ›ä½ä¸‹ã€é£Ÿæ¬²ä¸æŒ¯",excess:"éå‰°ç—‡ã¯ç¨€",foods:[{name:"é¶ã‚€ã­è‚‰",amount:"1,200mg/100g"},{name:"ã¾ãã‚èµ¤èº«",amount:"1,300mg/100g"},{name:"å¤§è±†",amount:"2,000mg/100g"},{name:"åµ",amount:"830mg/100g"},{name:"ãƒãƒ¼ã‚º",amount:"1,700mg/100g"}],description:"BCAAã®ä¸€ã¤ã€‚ç­‹è‚‰ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼æºã¨ã—ã¦åˆ©ç”¨ã€‚ç­‹ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®åˆæˆä¿ƒé€²ã¨åˆ†è§£æŠ‘åˆ¶ã€‚æˆé•·ä¿ƒé€²ãƒ»è¡€æ¶²ä¸­ã®çª’ç´ ãƒãƒ©ãƒ³ã‚¹ã®èª¿æ•´ã€‚"}
];

// ============================================================
// EDGES: Nutrient Relationships
// ============================================================
const edges = [
  // Synergy (ç›¸ä¹—)
  {source:"vitC",target:"vitE",type:"synergy",description:"ãƒ“ã‚¿ãƒŸãƒ³CãŒé…¸åŒ–ã•ã‚ŒãŸãƒ“ã‚¿ãƒŸãƒ³Eã‚’å†ç”Ÿã—æŠ—é…¸åŒ–åŠ›ã‚’ç¶­æŒ"},
  {source:"vitE",target:"se",type:"synergy",description:"ãƒ“ã‚¿ãƒŸãƒ³Eã¨ã‚»ãƒ¬ãƒ³ãŒç›¸ä¹—çš„ã«æŠ—é…¸åŒ–ä½œç”¨ã‚’ç™ºæ®"},
  {source:"vitB12",target:"vitB9",type:"synergy",description:"B12ã¨è‘‰é…¸ãŒå”åƒã—ã¦èµ¤è¡€çƒã‚’å½¢æˆï¼ˆé€ è¡€ãƒ“ã‚¿ãƒŸãƒ³ï¼‰"},
  {source:"vitB2",target:"vitB6",type:"synergy",description:"B2ãŒB6ã®æ´»æ€§å‹ã¸ã®å¤‰æ›ã«å¿…è¦"},
  {source:"vitB5",target:"vitC",type:"synergy",description:"å‰¯è…çš®è³ªãƒ›ãƒ«ãƒ¢ãƒ³åˆæˆã§ãƒ‘ãƒ³ãƒˆãƒ†ãƒ³é…¸ã¨ãƒ“ã‚¿ãƒŸãƒ³CãŒå”åƒ"},
  {source:"co",target:"vitB12",type:"synergy",description:"ã‚³ãƒãƒ«ãƒˆã¯ãƒ“ã‚¿ãƒŸãƒ³B12ã®ä¸­å¿ƒé‡‘å±å…ƒç´ ã¨ã—ã¦ä¸å¯æ¬ "},
  {source:"vitA",target:"zn",type:"synergy",description:"äºœé‰›ãŒãƒ“ã‚¿ãƒŸãƒ³Açµåˆã‚¿ãƒ³ãƒ‘ã‚¯è³ªã®åˆæˆã«å¿…è¦"},
  {source:"vitK",target:"ca",type:"synergy",description:"ãƒ“ã‚¿ãƒŸãƒ³KãŒã‚ªã‚¹ãƒ†ã‚ªã‚«ãƒ«ã‚·ãƒ³ã‚’æ´»æ€§åŒ–ã—ã‚«ãƒ«ã‚·ã‚¦ãƒ ã®éª¨å®šç€ã‚’ä¿ƒé€²"},
  {source:"vitB1",target:"mg",type:"synergy",description:"ãƒã‚°ãƒã‚·ã‚¦ãƒ ãŒãƒã‚¢ãƒŸãƒ³ã®æ´»æ€§åŒ–ï¼ˆãƒªãƒ³é…¸åŒ–ï¼‰ã«å¿…è¦"},
  {source:"iodine",target:"se",type:"synergy",description:"ã‚»ãƒ¬ãƒ³ãŒç”²çŠ¶è…ºãƒ›ãƒ«ãƒ¢ãƒ³ã®ä»£è¬ï¼ˆè„±ãƒ¨ãƒ¼ãƒ‰é…µç´ ï¼‰ã«å¿…è¦"},
  {source:"mn",target:"ca",type:"synergy",description:"ãƒãƒ³ã‚¬ãƒ³ã¨ã‚«ãƒ«ã‚·ã‚¦ãƒ ãŒéª¨å½¢æˆã§å”åƒ"},
  {source:"leu",target:"ile",type:"synergy",description:"BCAAï¼ˆãƒ­ã‚¤ã‚·ãƒ³ãƒ»ã‚¤ã‚½ãƒ­ã‚¤ã‚·ãƒ³ãƒ»ãƒãƒªãƒ³ï¼‰ãŒå”åƒã—ã¦ç­‹ã‚¿ãƒ³ãƒ‘ã‚¯åˆæˆã‚’ä¿ƒé€²"},
  {source:"leu",target:"val",type:"synergy",description:"BCAAã¨ã—ã¦ç­‹è‚‰ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ä¾›çµ¦ã¨åˆ†è§£æŠ‘åˆ¶ã«å”åƒ"},
  {source:"ile",target:"val",type:"synergy",description:"BCAA3ç¨®ãŒãƒãƒ©ãƒ³ã‚¹ã‚ˆãå­˜åœ¨ã™ã‚‹ã“ã¨ã§åŠ¹æœã‚’ç™ºæ®"},
  {source:"lys",target:"vitC",type:"synergy",description:"ãƒªã‚·ãƒ³ã¨ãƒ“ã‚¿ãƒŸãƒ³CãŒã‚³ãƒ©ãƒ¼ã‚²ãƒ³åˆæˆã§å”åƒ"},
  {source:"met",target:"vitB12",type:"synergy",description:"B12ãŒãƒ¡ãƒã‚ªãƒ‹ãƒ³åˆæˆé…µç´ ã®è£œé…µç´ ã¨ã—ã¦æ©Ÿèƒ½"},
  {source:"met",target:"vitB9",type:"synergy",description:"è‘‰é…¸ãŒãƒ¡ãƒã‚ªãƒ‹ãƒ³å†ç”Ÿï¼ˆãƒ›ãƒ¢ã‚·ã‚¹ãƒ†ã‚¤ãƒ³â†’ãƒ¡ãƒã‚ªãƒ‹ãƒ³ï¼‰ã«å¿…è¦"},
  {source:"rutin",target:"vitC",type:"synergy",description:"ãƒ«ãƒãƒ³ãŒãƒ“ã‚¿ãƒŸãƒ³Cã®å¸åã¨åŠ¹æœã‚’å¢—å¼·"},
  {source:"lipoicAcid",target:"vitC",type:"synergy",description:"Î±-ãƒªãƒé…¸ãŒãƒ“ã‚¿ãƒŸãƒ³Cã‚’å†ç”Ÿã—æŠ—é…¸åŒ–ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ç¶­æŒ"},
  {source:"lipoicAcid",target:"vitE",type:"synergy",description:"Î±-ãƒªãƒé…¸ãŒãƒ“ã‚¿ãƒŸãƒ³Eã‚’å†ç”Ÿ"},
  {source:"choline",target:"vitB9",type:"synergy",description:"ã‚³ãƒªãƒ³ã¨è‘‰é…¸ãŒãƒ¡ãƒãƒ«åŸºä»£è¬ï¼ˆä¸€ç‚­ç´ ä»£è¬ï¼‰ã§å”åƒ"},
  {source:"p",target:"ca",type:"synergy",description:"ãƒªãƒ³ã¨ã‚«ãƒ«ã‚·ã‚¦ãƒ ãŒé©æ­£æ¯”ç‡ã§éª¨ã®çŸ³ç°åŒ–ã‚’ä¿ƒé€²"},

  // Absorption (å¸åä¿ƒé€²)
  {source:"vitC",target:"fe",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³CãŒéãƒ˜ãƒ é‰„ã‚’é‚„å…ƒã—å¸åã‚’3ã€œ6å€ä¿ƒé€²"},
  {source:"vitD",target:"ca",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³DãŒã‚«ãƒ«ã‚·ã‚¦ãƒ ã®è…¸ç®¡å¸åã‚’ä¿ƒé€²ï¼ˆã‚«ãƒ«ãƒ“ãƒ³ãƒ‡ã‚£ãƒ³èª˜å°ï¼‰"},
  {source:"vitD",target:"p",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³DãŒãƒªãƒ³ã®è…¸ç®¡å¸åã‚’ä¿ƒé€²"},
  {source:"vitB6",target:"mg",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³B6ãŒãƒã‚°ãƒã‚·ã‚¦ãƒ ã®ç´°èƒå†…å–ã‚Šè¾¼ã¿ã‚’ä¿ƒé€²"},
  {source:"vitA",target:"fe",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³AãŒé‰„ã®åˆ©ç”¨åŠ¹ç‡ã‚’é«˜ã‚è²§è¡€ã‚’äºˆé˜²"},
  {source:"vitD",target:"mg",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³DãŒãƒã‚°ãƒã‚·ã‚¦ãƒ ã®å¸åã‚’èª¿ç¯€"},
  {source:"cu",target:"fe",type:"absorption",description:"éŠ…ï¼ˆã‚»ãƒ«ãƒ­ãƒ—ãƒ©ã‚¹ãƒŸãƒ³ï¼‰ãŒé‰„ã®é…¸åŒ–ã‚’åŠ©ã‘åˆ©ç”¨ã‚’ä¿ƒé€²"},
  {source:"vitC",target:"cr",type:"absorption",description:"ãƒ“ã‚¿ãƒŸãƒ³CãŒã‚¯ãƒ­ãƒ ã®å¸åã‚’ä¿ƒé€²"},
  {source:"lys",target:"ca",type:"absorption",description:"ãƒªã‚·ãƒ³ãŒã‚«ãƒ«ã‚·ã‚¦ãƒ ã®è…¸ç®¡å¸åã‚’ä¿ƒé€²"},
  {source:"trp",target:"vitB3",type:"absorption",description:"ãƒˆãƒªãƒ—ãƒˆãƒ•ã‚¡ãƒ³ãŒä½“å†…ã§ãƒŠã‚¤ã‚¢ã‚·ãƒ³ï¼ˆB3ï¼‰ã«å¤‰æ›ã•ã‚Œã‚‹ï¼ˆ60mgâ†’1mgï¼‰"},
  {source:"b",target:"vitD",type:"absorption",description:"ãƒ›ã‚¦ç´ ãŒãƒ“ã‚¿ãƒŸãƒ³Dã®æ´»æ€§å‹ã¸ã®å¤‰æ›ã‚’ä¿ƒé€²"},

  // Antagonist (æ‹®æŠ—)
  {source:"ca",target:"fe",type:"antagonist",description:"ã‚«ãƒ«ã‚·ã‚¦ãƒ ãŒé‰„ã®å¸åã‚’é˜»å®³ï¼ˆåŒæ™‚æ‘‚å–ã§å¸åç‡ä½ä¸‹ï¼‰"},
  {source:"ca",target:"zn",type:"antagonist",description:"ã‚«ãƒ«ã‚·ã‚¦ãƒ éå‰°æ‘‚å–ãŒäºœé‰›ã®å¸åã‚’é˜»å®³"},
  {source:"zn",target:"cu",type:"antagonist",description:"äºœé‰›éå‰°æ‘‚å–ãŒéŠ…ã®å¸åã‚’ç«¶åˆçš„ã«é˜»å®³"},
  {source:"fe",target:"zn",type:"antagonist",description:"é‰„ã¨äºœé‰›ãŒé«˜ç”¨é‡ã§è…¸ç®¡å¸åã‚’ç›¸äº’ã«é˜»å®³"},
  {source:"na",target:"k",type:"antagonist",description:"ãƒŠãƒˆãƒªã‚¦ãƒ ã¨ã‚«ãƒªã‚¦ãƒ ãŒæ‹®æŠ—çš„ã«ä½“æ¶²ãƒãƒ©ãƒ³ã‚¹ã‚’èª¿ç¯€"},
  {source:"ca",target:"mg",type:"antagonist",description:"ã‚«ãƒ«ã‚·ã‚¦ãƒ éå‰°ãŒãƒã‚°ãƒã‚·ã‚¦ãƒ ã®å¸åã‚’é˜»å®³"},
  {source:"mo",target:"cu",type:"antagonist",description:"ãƒ¢ãƒªãƒ–ãƒ‡ãƒ³éå‰°ãŒéŠ…ã®æ’æ³„ã‚’ä¿ƒé€²ã—æ¬ ä¹ã‚’èª˜ç™º"},
  {source:"phe",target:"trp",type:"antagonist",description:"ãƒ•ã‚§ãƒ‹ãƒ«ã‚¢ãƒ©ãƒ‹ãƒ³ã¨ãƒˆãƒªãƒ—ãƒˆãƒ•ã‚¡ãƒ³ãŒè„³å†…è¼¸é€ã§ç«¶åˆ"}
];

// ============================================================
// COLOR SCHEME
// ============================================================
const COLORS = {
  'è„‚æº¶æ€§':     {bg:'#e67e22',text:'#fff',light:'#fdebd0'},
  'æ°´æº¶æ€§':     {bg:'#3498db',text:'#fff',light:'#d6eaf8'},
  'ä¸»è¦ãƒŸãƒãƒ©ãƒ«':{bg:'#27ae60',text:'#fff',light:'#d5f5e3'},
  'å¾®é‡ãƒŸãƒãƒ©ãƒ«':{bg:'#16a085',text:'#fff',light:'#d1f2eb'},
  'å¿…é ˆã‚¢ãƒŸãƒé…¸':{bg:'#8e44ad',text:'#fff',light:'#e8daef'}
};
const EDGE_COLORS = {synergy:'#4caf50',absorption:'#2196f3',antagonist:'#f44336'};
const EDGE_LABELS = {synergy:'ç›¸ä¹—',absorption:'å¸åä¿ƒé€²',antagonist:'æ‹®æŠ—'};

// ============================================================
// EVIDENCE LEVELS
// ============================================================
// established: åšåŠ´çœã€Œæ—¥æœ¬äººã®é£Ÿäº‹æ‘‚å–åŸºæº–ã€/WHO/IOMç­‰ã§æ‘‚å–åŸºæº–ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
// probable:    ä¸€å®šã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãŒã‚ã‚‹ãŒå›½éš›çš„ã«è©•ä¾¡ãŒåˆ†ã‹ã‚Œã‚‹
// limited:     ãƒ“ã‚¿ãƒŸãƒ³æ§˜ç‰©è³ªãƒ»è¶…å¾®é‡å…ƒç´ ç­‰ã§ã€ãƒ’ãƒˆã§ã®å¿…é ˆæ€§ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãŒé™å®šçš„
const EVIDENCE = {
  vitA:'established',vitD:'established',vitE:'established',vitK:'established',
  vitB1:'established',vitB2:'established',vitB3:'established',vitB5:'established',
  vitB6:'established',vitB7:'established',vitB9:'established',vitB12:'established',vitC:'established',
  choline:'established',
  ca:'established',p:'established',mg:'established',na:'established',k:'established',cl:'established',s:'established',
  fe:'established',zn:'established',cu:'established',mn:'established',iodine:'established',se:'established',mo:'established',
  ile:'established',leu:'established',lys:'established',met:'established',phe:'established',thr:'established',trp:'established',val:'established',
  cr:'probable',co:'probable',
  inositol:'limited',rutin:'limited',paba:'limited',lipoicAcid:'limited',
  f:'limited',si:'limited',b:'limited',v:'limited'
};
const EVIDENCE_LABELS = {
  established:{label:'ç¢ºç«‹',desc:'å›½éš›çš„ãªæ‘‚å–åŸºæº–ã‚ã‚Š',color:'#2e7d32',bg:'#e8f5e9'},
  probable:{label:'æœ‰åŠ›',desc:'ä¸€å®šã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚ã‚Šãƒ»å›½éš›çš„ã«è­°è«–ä¸­',color:'#f57f17',bg:'#fff8e1'},
  limited:{label:'é™å®šçš„',desc:'ãƒ’ãƒˆã§ã®å¿…é ˆæ€§ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãŒä¸ååˆ†',color:'#c62828',bg:'#fce4ec'}
};

// ============================================================
// BUILD CYTOSCAPE ELEMENTS
// ============================================================
const cyElements = [];
nutrients.forEach(n => {
  const ev = EVIDENCE[n.id] || 'established';
  cyElements.push({data:{id:n.id,label:n.name,category:n.category,subCategory:n.subCategory,color:COLORS[n.subCategory].bg,evidence:ev}});
});
edges.forEach((e,i) => {
  cyElements.push({data:{id:'e'+i,source:e.source,target:e.target,edgeType:e.type,color:EDGE_COLORS[e.type]}});
});

// ============================================================
// CYTOSCAPE INIT
// ============================================================
const cy = cytoscape({
  container: document.getElementById('cy'),
  elements: cyElements,
  style: [
    {selector:'node',style:{
      'background-color':'data(color)',
      'label':'data(label)',
      'font-size':'11px',
      'font-family':'-apple-system,BlinkMacSystemFont,Hiragino Kaku Gothic ProN,sans-serif',
      'color':'#333',
      'text-valign':'bottom',
      'text-margin-y':4,
      'width':32,'height':32,
      'border-width':2,'border-color':'#fff',
      'text-outline-width':2,'text-outline-color':'#fff',
      'transition-property':'opacity,width,height,border-color',
      'transition-duration':'0.2s'
    }},
    {selector:'node:selected',style:{
      'border-color':'#2c3e50','border-width':3,'width':40,'height':40
    }},
    {selector:'node.highlighted',style:{
      'border-color':'#f39c12','border-width':3,'width':40,'height':40
    }},
    {selector:'node.dimmed',style:{
      'opacity':0.15
    }},
    {selector:'node.searchMatch',style:{
      'border-color':'#e74c3c','border-width':3,'width':42,'height':42
    }},
    {selector:'node.hidden',style:{
      'display':'none'
    }},
    {selector:'node[evidence="probable"]',style:{
      'border-style':'dashed','border-color':'#f57f17','border-width':2.5
    }},
    {selector:'node[evidence="limited"]',style:{
      'border-style':'dashed','border-color':'#e57373','border-width':2.5,'opacity':0.75
    }},
    {selector:'edge',style:{
      'line-color':'data(color)',
      'target-arrow-color':'data(color)',
      'width':2,
      'curve-style':'bezier',
      'opacity':0.5,
      'transition-property':'opacity,width',
      'transition-duration':'0.2s'
    }},
    {selector:'edge[edgeType="absorption"]',style:{
      'line-style':'dashed','line-dash-pattern':[6,3],
      'target-arrow-shape':'triangle','arrow-scale':0.8
    }},
    {selector:'edge[edgeType="antagonist"]',style:{
      'line-style':'dotted','line-dash-pattern':[2,4]
    }},
    {selector:'edge[edgeType="synergy"]',style:{
      'line-style':'solid'
    }},
    {selector:'edge.highlighted',style:{
      'opacity':1,'width':3
    }},
    {selector:'edge.dimmed',style:{
      'opacity':0.05
    }},
    {selector:'edge.hidden',style:{
      'display':'none'
    }}
  ],
  wheelSensitivity: 0.3,
  minZoom: 0.3,
  maxZoom: 3
});

// Size nodes by degree (connection count)
function sizeByDegree(){
  cy.nodes().forEach(n => {
    const deg = n.degree();
    const sz = Math.max(28, Math.min(56, 24 + deg * 4));
    n.style('width', sz);
    n.style('height', sz);
  });
}

// ============================================================
// LAYOUTS
// ============================================================
function applyLayout(name){
  let opts;
  switch(name){
    case 'cluster':
      opts = {
        name:'cose',
        nodeRepulsion:8000,
        idealEdgeLength:120,
        edgeElasticity:100,
        gravity:0.3,
        numIter:500,
        animate:true,
        animationDuration:600,
        randomize:false
      };
      // Group by category
      const groups = {vitamin:{x:0,y:0},mineral:{x:400,y:0},aminoAcid:{x:200,y:350}};
      cy.nodes().forEach(n=>{
        const g = groups[n.data('category')] || {x:200,y:200};
        n.position({x:g.x + (Math.random()-0.5)*200, y:g.y + (Math.random()-0.5)*200});
      });
      opts.randomize = false;
      break;
    case 'concentric':
      opts = {
        name:'concentric',
        concentric:n=>n.degree(),
        levelWidth:()=>2,
        minNodeSpacing:40,
        animate:true,
        animationDuration:600
      };
      break;
    case 'subcategory':
      opts = {name:'preset',animate:true,animationDuration:600};
      const subGroups = {'è„‚æº¶æ€§':{x:0,y:0},'æ°´æº¶æ€§':{x:300,y:0},'ä¸»è¦ãƒŸãƒãƒ©ãƒ«':{x:600,y:0},'å¾®é‡ãƒŸãƒãƒ©ãƒ«':{x:150,y:350},'å¿…é ˆã‚¢ãƒŸãƒé…¸':{x:450,y:350}};
      cy.nodes().forEach(n=>{
        const sg = subGroups[n.data('subCategory')] || {x:300,y:175};
        const sameGroup = cy.nodes().filter(m=>m.data('subCategory')===n.data('subCategory'));
        const idx = sameGroup.indexOf(n);
        const cols = Math.ceil(Math.sqrt(sameGroup.length));
        const row = Math.floor(idx/cols);
        const col = idx % cols;
        n.position({x:sg.x + col*60, y:sg.y + row*60});
      });
      break;
    case 'force':
    default:
      opts = {
        name:'cose',
        nodeRepulsion:6000,
        idealEdgeLength:100,
        edgeElasticity:80,
        gravity:0.25,
        numIter:800,
        animate:true,
        animationDuration:600,
        randomize:true
      };
      break;
  }
  cy.layout(opts).run();
  setTimeout(sizeByDegree, 700);
}

// Initial layout
applyLayout('subcategory');
sizeByDegree();

document.getElementById('layoutSelect').addEventListener('change', e => applyLayout(e.target.value));
document.getElementById('fitBtn').addEventListener('click', ()=> cy.fit(null,30));

// ============================================================
// TOOLTIP
// ============================================================
const tooltip = document.getElementById('tooltip');
cy.on('mouseover','node', e=>{
  const n = e.target;
  const d = nutrients.find(x=>x.id===n.id());
  if(!d) return;
  const ev = EVIDENCE_LABELS[EVIDENCE[d.id]||'established'];
  tooltip.innerHTML = `<strong>${d.name}</strong><br><span style="font-size:10px">${d.subCategory} | ${d.nameEn}</span><br><span style="font-size:9px;color:${ev.color}">â–  ${ev.label}: ${ev.desc}</span>`;
  tooltip.style.display = 'block';
});
cy.on('mouseout','node', ()=>{tooltip.style.display='none'});
cy.on('mousemove', e=>{
  tooltip.style.left = (e.originalEvent.clientX+12)+'px';
  tooltip.style.top = (e.originalEvent.clientY+12)+'px';
});

// ============================================================
// NODE CLICK â†’ DETAIL PANEL
// ============================================================
const detailPanel = document.getElementById('detailPanel');
const detailContent = detailPanel.querySelector('.detail-content');

function showDetail(nodeId){
  const d = nutrients.find(x=>x.id===nodeId);
  if(!d) return;
  const c = COLORS[d.subCategory];
  // Find connected edges
  const node = cy.getElementById(nodeId);
  const connEdges = node.connectedEdges();
  const relations = [];
  connEdges.forEach(edge=>{
    const ed = edges.find((_,i)=>'e'+i===edge.id());
    if(!ed) return;
    const otherId = ed.source===nodeId?ed.target:ed.source;
    const other = nutrients.find(x=>x.id===otherId);
    if(other) relations.push({...ed, otherName:other.name, otherId});
  });

  let foodsHtml = d.foods.map(f=>`<div class="food-item"><span class="food-name">${f.name}</span><span class="food-amount">${f.amount}</span></div>`).join('');
  let defTags = d.deficiency.split('ã€').map(s=>`<span class="tag deficiency">${s}</span>`).join('');
  let exTags = d.excess.split('ã€').map(s=>`<span class="tag excess">${s}</span>`).join('');
  let relHtml = relations.map(r=>`<div class="relation-item" data-node="${r.otherId}"><span class="relation-type ${r.type}">${EDGE_LABELS[r.type]}</span><span>${r.otherName}</span></div>`).join('') || '<div class="info-row" style="color:#bbb">æ¥ç¶šãªã—</div>';

  const ev = EVIDENCE_LABELS[EVIDENCE[d.id]||'established'];
  const evBadge = `<span class="evidence-badge ${EVIDENCE[d.id]||'established'}">${ev.label}</span>`;
  const evNote = EVIDENCE[d.id]==='limited' ? `<div class="evidence-note">âš  ã“ã®æ „é¤Šç´ ã¯ãƒ’ãƒˆã§ã®å¿…é ˆæ€§ã«é–¢ã™ã‚‹ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ãŒé™å®šçš„ã§ã™ã€‚ã€Œãƒ“ã‚¿ãƒŸãƒ³æ§˜ç‰©è³ªã€ã‚„ã€Œè¶…å¾®é‡å…ƒç´ ã€ã«åˆ†é¡ã•ã‚Œã€å…¬çš„ãªæ‘‚å–åŸºæº–ã¯è¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</div>` : EVIDENCE[d.id]==='probable' ? `<div class="evidence-note">â–³ æ—¥æœ¬ã§ã¯é£Ÿäº‹æ‘‚å–åŸºæº–ã«å«ã¾ã‚Œã¦ã„ã¾ã™ãŒã€å›½éš›çš„ã«ã¯å¿…é ˆæ€§ã®è©•ä¾¡ãŒåˆ†ã‹ã‚Œã¦ã„ã¾ã™ã€‚</div>` : '';

  detailContent.innerHTML = `
    <div class="detail-header">
      <span class="cat-badge" style="background:${c.bg}">${d.subCategory}</span>${evBadge}
      <h2>${d.name}</h2>
      <div class="name-en">${d.nameEn}</div>
      <div class="desc">${d.description}</div>
      ${evNote}
    </div>
    <div class="detail-section">
      <h4>åŸºæœ¬æƒ…å ±</h4>
      <div class="info-row">ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹: <span style="color:${ev.color};font-weight:600">${ev.label}</span> â€” ${ev.desc}</div>
      <div class="info-row">å˜ä½: ${d.unit}</div>
      <div class="info-row">æ¨å¥¨é‡(æˆäºº): ${d.rda}</div>
    </div>
    <div class="detail-section">
      <h4>æ¬ ä¹ç—‡</h4>
      <div>${defTags}</div>
    </div>
    <div class="detail-section">
      <h4>éå‰°ç—‡</h4>
      <div>${exTags}</div>
    </div>
    <div class="detail-section">
      <h4>å«æœ‰é£Ÿæ (ä¸Šä½)</h4>
      ${foodsHtml}
    </div>
    <div class="detail-section">
      <h4>é–¢é€£æ „é¤Šç´  (${relations.length})</h4>
      ${relHtml}
    </div>
  `;
  detailPanel.classList.add('open');

  // Click on relation item to navigate
  detailContent.querySelectorAll('.relation-item').forEach(el=>{
    el.addEventListener('click', ()=>{
      const nid = el.dataset.node;
      cy.nodes().unselect();
      const target = cy.getElementById(nid);
      target.select();
      cy.animate({center:{eles:target},zoom:1.5,duration:400});
      highlightNode(nid);
      showDetail(nid);
    });
  });
}

function highlightNode(nodeId){
  cy.elements().removeClass('highlighted dimmed');
  const node = cy.getElementById(nodeId);
  const neighborhood = node.closedNeighborhood();
  cy.elements().not(neighborhood).addClass('dimmed');
  neighborhood.addClass('highlighted');
  node.removeClass('dimmed');
}

cy.on('tap','node', e=>{
  const nodeId = e.target.id();
  highlightNode(nodeId);
  showDetail(nodeId);
});

cy.on('tap', e=>{
  if(e.target === cy){
    cy.elements().removeClass('highlighted dimmed searchMatch');
    detailPanel.classList.remove('open');
  }
});

// ============================================================
// SEARCH
// ============================================================
const searchInput = document.getElementById('searchInput');
searchInput.addEventListener('input', ()=>{
  const q = searchInput.value.trim().toLowerCase();
  cy.nodes().removeClass('searchMatch dimmed');
  if(!q){return;}
  const matches = cy.nodes().filter(n=>{
    const d = nutrients.find(x=>x.id===n.id());
    if(!d) return false;
    return d.name.toLowerCase().includes(q) || d.nameEn.toLowerCase().includes(q) || d.id.toLowerCase().includes(q);
  });
  if(matches.length > 0){
    cy.nodes().not(matches).addClass('dimmed');
    matches.addClass('searchMatch');
    if(matches.length === 1){
      cy.animate({center:{eles:matches},zoom:1.5,duration:400});
      showDetail(matches[0].id());
      highlightNode(matches[0].id());
    }
  }
});

// ============================================================
// FILTERS (Category / SubCategory / Edge)
// ============================================================
function applyFilters(){
  const catChecked = [...document.querySelectorAll('#catFilters input:checked')].map(i=>i.dataset.cat);
  const subChecked = [...document.querySelectorAll('#subFilters input:checked')].map(i=>i.dataset.sub);
  const evChecked = [...document.querySelectorAll('#evidenceFilters input:checked')].map(i=>i.dataset.ev);
  const edgeChecked = [...document.querySelectorAll('#edgeFilters input:checked')].map(i=>i.dataset.edge);

  cy.nodes().forEach(n=>{
    const d = nutrients.find(x=>x.id===n.id());
    if(!d){n.addClass('hidden');return;}
    const catOk = catChecked.includes(d.category);
    const subOk = subChecked.includes(d.subCategory);
    const evOk = evChecked.includes(EVIDENCE[d.id]||'established');
    if(catOk && subOk && evOk) n.removeClass('hidden');
    else n.addClass('hidden');
  });

  cy.edges().forEach(e=>{
    const t = e.data('edgeType');
    if(edgeChecked.includes(t)){
      e.removeClass('hidden');
    } else {
      e.addClass('hidden');
    }
    // Also hide if source or target is hidden
    if(e.source().hasClass('hidden') || e.target().hasClass('hidden')){
      e.addClass('hidden');
    }
  });
}

document.querySelectorAll('#catFilters input, #subFilters input, #evidenceFilters input, #edgeFilters input').forEach(cb=>{
  cb.addEventListener('change', applyFilters);
});

// ============================================================
// REVERSE LOOKUP: Shared Utilities
// ============================================================
function highlightMultipleNodes(nodeIds){
  cy.elements().removeClass('highlighted dimmed searchMatch');
  if(nodeIds.length === 0) return;
  const matchNodes = cy.nodes().filter(n=>nodeIds.includes(n.id()));
  cy.elements().not(matchNodes).addClass('dimmed');
  matchNodes.addClass('searchMatch');
  cy.fit(matchNodes, 40);
}

const CAT_ORDER = {vitamin:0,mineral:1,aminoAcid:2};
const CAT_LABEL = {vitamin:'ãƒ“ã‚¿ãƒŸãƒ³',mineral:'ãƒŸãƒãƒ©ãƒ«',aminoAcid:'ã‚¢ãƒŸãƒé…¸'};

function sortResults(matches, mode, keyNutrient){
  const arr = [...matches];
  switch(mode){
    case 'category':
      arr.sort((a,b)=>(CAT_ORDER[a[keyNutrient].category]||0)-(CAT_ORDER[b[keyNutrient].category]||0));
      break;
    case 'subcategory':
      arr.sort((a,b)=>(a[keyNutrient].subCategory||'').localeCompare(b[keyNutrient].subCategory||''));
      break;
    case 'name':
      arr.sort((a,b)=>a[keyNutrient].name.localeCompare(b[keyNutrient].name,'ja'));
      break;
  }
  return arr;
}

function renderGrouped(container, matches, mode, keyNutrient, renderItem){
  container.innerHTML = '';
  if(matches.length === 0){
    container.innerHTML = '<div style="padding:4px;color:#999">è©²å½“ãªã—</div>';
    return;
  }
  const grouped = mode === 'category' || mode === 'subcategory';
  let lastGroup = null;
  matches.forEach(m=>{
    if(grouped){
      const grp = mode==='category' ? CAT_LABEL[m[keyNutrient].category] : m[keyNutrient].subCategory;
      if(grp !== lastGroup){
        const hdr = document.createElement('div');
        hdr.className = 'result-group';
        hdr.textContent = grp;
        container.appendChild(hdr);
        lastGroup = grp;
      }
    }
    container.appendChild(renderItem(m));
  });
}

// ============================================================
// REVERSE LOOKUP: Food â†’ Nutrients
// ============================================================
const foodSearchBtn = document.getElementById('foodSearchBtn');
const foodSearchInput = document.getElementById('foodSearchInput');
const foodResults = document.getElementById('foodResults');
const foodTags = document.getElementById('foodTags');
const foodSort = document.getElementById('foodSort');
const foodSortSelect = document.getElementById('foodSortSelect');
const foodHighlightBtn = document.getElementById('foodHighlightBtn');

// Extract popular food tags from data
(function buildFoodTags(){
  const foodCount = {};
  nutrients.forEach(n=>n.foods.forEach(f=>{
    const name = f.name.replace(/ï¼ˆ.*ï¼‰/g,'').trim();
    if(name==='å«æœ‰'||name==='é«˜å«æœ‰'||name==='å¾®é‡') return;
    foodCount[name] = (foodCount[name]||0) + 1;
  }));
  // Group by category
  const foodGroups = {'è‚‰ãƒ»ãƒ¬ãƒãƒ¼':[],'é­šä»‹':[],'é‡èœ':[],'è±†ãƒ»ç¨®å®Ÿ':[],'ä¹³ãƒ»åµ':[],'ç©€ç‰©':[],'æœç‰©':[],'æµ·è—»':[],'ãã®ä»–':[]};
  const classify = name => {
    if(/ãƒ¬ãƒãƒ¼|è‚‰|ã•ã•ã¿/.test(name)) return 'è‚‰ãƒ»ãƒ¬ãƒãƒ¼';
    if(/é­š|é®­|ã•ã‚“ã¾|ã¾ãã‚|ã‹ã¤ãŠ|ã—ã˜ã¿|ã‚ã•ã‚Š|ç‰¡è £|ã—ã‚‰ã™|ãŸã‚‰ã“|ãŸã‚‰|ã—ã‚ƒã“|ã„ã‚ã—|è²/.test(name)) return 'é­šä»‹';
    if(/ã»ã†ã‚Œã‚“è‰|ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼|å°æ¾èœ|ã«ã‚“ã˜ã‚“|ã‹ã¼ã¡ã‚ƒ|ã«ã‚“ã«ã|ç‰ã­ã|ã‚¢ã‚¹ãƒ‘ãƒ©ã‚¬ã‚¹|ãƒˆãƒãƒˆ|ãƒ”ãƒ¼ãƒãƒ³|ãƒ‘ã‚»ãƒª|ãƒ¢ãƒ­ãƒ˜ã‚¤ãƒ¤|æè±†|ã‚Œã‚“ã“ã‚“|ç”Ÿå§œ/.test(name)) return 'é‡èœ';
    if(/å¤§è±†|ç´è±†|ã‚¢ãƒ¼ãƒ¢ãƒ³ãƒ‰|è½èŠ±ç”Ÿ|ã‚«ã‚·ãƒ¥ãƒ¼ãƒŠãƒƒãƒ„|ãƒŠãƒƒãƒ„|è±†|é«˜é‡è±†è…|ãƒ–ãƒ©ã‚¸ãƒ«ãƒŠãƒƒãƒ„/.test(name)) return 'è±†ãƒ»ç¨®å®Ÿ';
    if(/åµ|ç‰›ä¹³|ãƒãƒ¼ã‚º|ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ/.test(name)) return 'ä¹³ãƒ»åµ';
    if(/ç„ç±³|ãã°|å¤§éº¦|å…¨ç²’|ç©€ç‰©/.test(name)) return 'ç©€ç‰©';
    if(/ãƒãƒŠãƒŠ|ã‚­ã‚¦ã‚¤|ã„ã¡ã”|ãƒ¬ãƒ¢ãƒ³|ã‚ªãƒ¬ãƒ³ã‚¸|ã‚Šã‚“ã”|ã¶ã©ã†|æ¡ƒ|ã™ã„ã‹|ãƒ¡ãƒ­ãƒ³|ã‚°ãƒ¬ãƒ¼ãƒ—ãƒ•ãƒ«ãƒ¼ãƒ„|ã„ã¡ã˜ã|æŸ‘æ©˜/.test(name)) return 'æœç‰©';
    if(/æ˜†å¸ƒ|ã‚ã‹ã‚|ã²ã˜ã|æµ·è‹”|æµ·è—»|é’æµ·è‹”|ã‚ãŠã•/.test(name)) return 'æµ·è—»';
    return 'ãã®ä»–';
  };
  Object.keys(foodCount).forEach(name=>{
    const grp = classify(name);
    foodGroups[grp].push({name, count:foodCount[name]});
  });
  Object.keys(foodGroups).forEach(grp=>{
    const items = foodGroups[grp].sort((a,b)=>b.count-a.count);
    if(items.length === 0) return;
    const label = document.createElement('div');
    label.className = 'tag-group-label';
    label.textContent = grp;
    foodTags.appendChild(label);
    items.forEach(item=>{
      const chip = document.createElement('span');
      chip.className = 'tag-chip';
      chip.textContent = item.name;
      chip.dataset.query = item.name;
      chip.addEventListener('click', ()=>{
        document.querySelectorAll('#foodTags .tag-chip').forEach(c=>c.classList.remove('active'));
        chip.classList.add('active');
        foodSearchInput.value = item.name;
        foodSearchInput.dispatchEvent(new Event('input'));
      });
      foodTags.appendChild(chip);
    });
  });
})();

let lastFoodMatches = [];

foodSearchBtn.addEventListener('click', ()=>{
  const open = !foodSearchInput.classList.contains('show');
  foodSearchInput.classList.toggle('show', open);
  foodTags.classList.toggle('show', open);
  foodSort.classList.toggle('show', open);
  foodSearchBtn.classList.toggle('active', open);
  if(!open){
    foodSearchInput.value='';foodResults.innerHTML='';
    foodHighlightBtn.style.display='none';
    lastFoodMatches=[];
    document.querySelectorAll('#foodTags .tag-chip').forEach(c=>c.classList.remove('active'));
    cy.elements().removeClass('highlighted dimmed searchMatch');
  } else {
    foodSearchInput.focus();
  }
});

function doFoodSearch(){
  const q = foodSearchInput.value.trim().toLowerCase();
  foodResults.innerHTML = '';
  lastFoodMatches = [];
  foodHighlightBtn.style.display='none';
  if(!q) return;
  const matches = [];
  nutrients.forEach(n=>{
    n.foods.forEach(f=>{
      if(f.name.toLowerCase().includes(q)){
        matches.push({nutrient:n, food:f});
      }
    });
  });
  lastFoodMatches = matches;
  const sorted = sortResults(matches, foodSortSelect.value, 'nutrient');
  renderGrouped(foodResults, sorted, foodSortSelect.value, 'nutrient', m=>{
    const div = document.createElement('div');
    div.className = 'result-item';
    div.innerHTML = `<span style="color:${COLORS[m.nutrient.subCategory].bg}">â—</span> <strong>${m.nutrient.name}</strong> â† ${m.food.name} (${m.food.amount})`;
    div.addEventListener('click', ()=>{
      const node = cy.getElementById(m.nutrient.id);
      node.select();
      cy.animate({center:{eles:node},zoom:1.5,duration:400});
      highlightNode(m.nutrient.id);
      showDetail(m.nutrient.id);
    });
    return div;
  });
  if(matches.length > 0) foodHighlightBtn.style.display='block';
}

foodSearchInput.addEventListener('input', doFoodSearch);
foodSortSelect.addEventListener('change', doFoodSearch);
foodHighlightBtn.addEventListener('click', ()=>{
  const ids = [...new Set(lastFoodMatches.map(m=>m.nutrient.id))];
  highlightMultipleNodes(ids);
});

// ============================================================
// REVERSE LOOKUP: Symptom â†’ Nutrients
// ============================================================
const symptomSearchBtn = document.getElementById('symptomSearchBtn');
const symptomSearchInput = document.getElementById('symptomSearchInput');
const symptomResults = document.getElementById('symptomResults');
const symptomTags = document.getElementById('symptomTags');
const symptomSort = document.getElementById('symptomSort');
const symptomSortSelect = document.getElementById('symptomSortSelect');
const symptomHighlightBtn = document.getElementById('symptomHighlightBtn');

// Extract symptom keyword tags from data
(function buildSymptomTags(){
  const keywords = {};
  const groups = {'è¡€æ¶²ãƒ»è²§è¡€':['è²§è¡€','å‡ºè¡€','è¡€'],'éª¨ãƒ»é–¢ç¯€':['éª¨','ãã‚‹ç—…','éª¨è»ŸåŒ–','éª¨ç²—é¬†'],'çš®è†šãƒ»æ¯›é«ª':['çš®è†š','è„±æ¯›','æ¯›é«ª','çˆª','æ¹¿ç–¹','ç™½é«ª'],'ç¥çµŒãƒ»ç²¾ç¥':['ç¥çµŒ','ã—ã³ã‚Œ','ã†ã¤','èªçŸ¥','ä¸çœ ','æ„è­˜'],'æ¶ˆåŒ–å™¨':['ä¸‹ç—¢','é£Ÿæ¬²ä¸æŒ¯','åãæ°—','å˜”å','ä¾¿ç§˜'],'å…ç–«':['å…ç–«','æ„ŸæŸ“'],'æˆé•·ãƒ»ä»£è¬':['æˆé•·éšœå®³','ä»£è¬','ç³–å°¿','è¡€ç³–'],'ç–²åŠ´ãƒ»å…¨èº«':['ç–²åŠ´','å€¦æ€ ','ç­‹åŠ›ä½ä¸‹','ç­‹ç—™æ”£'],'å£è…”':['å£è§’ç‚','å£å†…ç‚','èˆŒç‚','è™«æ­¯','æ­¯'],'è¦–è¦š':['å¤œç›²','è¦–è¦š','çœ¼']};
  const allSymptoms = [];
  nutrients.forEach(n=>{
    n.deficiency.split('ã€').forEach(s=>allSymptoms.push(s.replace(/ï¼ˆ.*?ï¼‰/g,'').trim()));
    n.excess.split('ã€').forEach(s=>allSymptoms.push(s.replace(/ï¼ˆ.*?ï¼‰/g,'').trim()));
  });
  // Count occurrences
  const symCount = {};
  allSymptoms.forEach(s=>{if(s && s.length>1) symCount[s]=(symCount[s]||0)+1});
  // Build tags by group
  Object.entries(groups).forEach(([grp, kws])=>{
    const label = document.createElement('div');
    label.className = 'tag-group-label';
    label.textContent = grp;
    symptomTags.appendChild(label);
    // Find matching symptoms for this group
    const matched = new Set();
    kws.forEach(kw=>{
      Object.keys(symCount).forEach(s=>{
        if(s.includes(kw) && !matched.has(s)) matched.add(s);
      });
    });
    [...matched].sort((a,b)=>(symCount[b]||0)-(symCount[a]||0)).slice(0,6).forEach(s=>{
      const chip = document.createElement('span');
      chip.className = 'tag-chip';
      chip.textContent = s;
      chip.addEventListener('click', ()=>{
        document.querySelectorAll('#symptomTags .tag-chip').forEach(c=>c.classList.remove('active'));
        chip.classList.add('active');
        symptomSearchInput.value = s;
        symptomSearchInput.dispatchEvent(new Event('input'));
      });
      symptomTags.appendChild(chip);
    });
  });
})();

let lastSymptomMatches = [];

symptomSearchBtn.addEventListener('click', ()=>{
  const open = !symptomSearchInput.classList.contains('show');
  symptomSearchInput.classList.toggle('show', open);
  symptomTags.classList.toggle('show', open);
  symptomSort.classList.toggle('show', open);
  symptomSearchBtn.classList.toggle('active', open);
  if(!open){
    symptomSearchInput.value='';symptomResults.innerHTML='';
    symptomHighlightBtn.style.display='none';
    lastSymptomMatches=[];
    document.querySelectorAll('#symptomTags .tag-chip').forEach(c=>c.classList.remove('active'));
    cy.elements().removeClass('highlighted dimmed searchMatch');
  } else {
    symptomSearchInput.focus();
  }
});

function doSymptomSearch(){
  const q = symptomSearchInput.value.trim().toLowerCase();
  symptomResults.innerHTML = '';
  lastSymptomMatches = [];
  symptomHighlightBtn.style.display='none';
  if(!q) return;
  const matches = [];
  nutrients.forEach(n=>{
    const defMatch = n.deficiency.toLowerCase().includes(q);
    const exMatch = n.excess.toLowerCase().includes(q);
    if(defMatch) matches.push({nutrient:n, type:'æ¬ ä¹', text:n.deficiency});
    if(exMatch) matches.push({nutrient:n, type:'éå‰°', text:n.excess});
  });
  lastSymptomMatches = matches;
  const sorted = sortResults(matches, symptomSortSelect.value, 'nutrient');
  renderGrouped(symptomResults, sorted, symptomSortSelect.value, 'nutrient', m=>{
    const div = document.createElement('div');
    div.className = 'result-item';
    const typeColor = m.type === 'æ¬ ä¹' ? '#e65100' : '#c62828';
    div.innerHTML = `<span style="color:${COLORS[m.nutrient.subCategory].bg}">â—</span> <strong>${m.nutrient.name}</strong> <span style="color:${typeColor};font-size:10px">[${m.type}]</span>`;
    div.addEventListener('click', ()=>{
      const node = cy.getElementById(m.nutrient.id);
      node.select();
      cy.animate({center:{eles:node},zoom:1.5,duration:400});
      highlightNode(m.nutrient.id);
      showDetail(m.nutrient.id);
    });
    return div;
  });
  if(matches.length > 0) symptomHighlightBtn.style.display='block';
}

symptomSearchInput.addEventListener('input', doSymptomSearch);
symptomSortSelect.addEventListener('change', doSymptomSearch);
symptomHighlightBtn.addEventListener('click', ()=>{
  const ids = [...new Set(lastSymptomMatches.map(m=>m.nutrient.id))];
  highlightMultipleNodes(ids);
});
</script>
</body>
</html>
